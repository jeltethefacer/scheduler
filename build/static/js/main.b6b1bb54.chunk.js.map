{"version":3,"sources":["actions/login.js","utils/config.js","utils/errorCodeFormatting.js","components/LoginForm.js","actions/user.js","components/UserInformation.js","actions/moderator.js","actions/role.js","components/AddUser.js","components/AddRole.js","components/UserList.js","actions/timeslotCategorie.js","components/TimeslotCatogorieForm.js","components/Moderator.js","components/Logout.js","actions/timeslot.js","utils/timeFormat.js","components/TimeslotForm.js","utils/checkRole.js","components/TimeslotCards.js","components/TimeslotList.js","components/Navbar.js","App.js","reducers/login.js","reducers/role.js","reducers/user.js","reducers/moderator.js","reducers/timeslot.js","reducers/timeslotCategorie.js","index.js"],"names":["baseUrl","errorCodeFormatting","errorCode","errorText","errorInfo","Alert","severity","LoginForm","dispatch","useDispatch","useSelector","state","login","history","useHistory","useState","email","setEmail","password","setPassword","onSubmit","event","preventDefault","a","Axios","post","user","userData","data","localStorage","setItem","token","type","response","status","push","value","onChange","target","getUserInformation","get","headers","console","log","UserInformation","userinformation","userRoles","roles","useEffect","frontName","lastName","roleListElements","map","role","key","id","abreviation","description","mapRoles","getRoleList","rolesList","AddUser","setFrontName","setLastName","userEntity","addUser","setAbreviation","setDescription","roleEntity","addRole","UserList","users","moderator","userList","getUsers","rolesArray","roleId","filter","onClick","userId","deleteUser","className","toggleRoleRespone","toggleRole","AddRole","getTimeslotCategorieList","timeslotCategorie","categoriesEtity","timeslotCategories","TimeslotCategorieForm","timeslotCategorieState","title","setTitle","cancelLength","setCancelLength","categorieEntity","addTimeslotCategorie","min","Moderator","Logout","clear","addTimeslot","startTime","endTime","maxPeople","timeslotData","setTimeout","timeslot","pad","number","formatDateForCard","startDate","endDate","months","toDateString","getHours","getMinutes","getMonth","getDate","getFullYear","date","toTimeString","TimeslotForm","successTimeslot","succes","Date","setStarttime","setEndTime","setMaxPeople","roleSelection","setRoleSelection","categorieSelection","setCategorieSelection","startTimeDateString","startTimeTimeString","endTimeDateString","endTimeTimeString","length","success","successFormatting","dateSplitted","split","tempDate","getTime","setFullYear","setMonth","setDate","timeSplitted","setHours","setMinutes","roleToSelect","includes","concat","multiple","checkRole","checkTimeslotCategorie","categorieList","categorieId","index","TimeslotCards","timeslots","categories","roleList","sortingOption","classes","makeStyles","theme","root","width","height","useStyles","sorted","sortOption","sort","firstTimeslot","secondTimeslot","subscribed","sortTimeslot","Grid","container","direction","justify","alignItems","startTimeDate","endTimeDate","Card","CardHeader","subheader","CardContent","spacing","item","xs","md","Typography","variant","List","dense","findRoleById","ListItem","ListItemText","primary","color","component","CardActions","ButtonGroup","Button","onDoubleClick","timeslotId","unSubscribe","subscribeTimeslot","deleteTimeslot","TimeslotList","userInformation","timeslotStatus","timeslotsData","getTimeslots","sortOptions","name","setSortOption","groupBy","reduce","rv","x","groupedTimeslots","option","Object","keys","categorie","Navbar","loginInformation","to","loggedIn","moderatorLink","timeslotLink","App","getItem","setToken","pending","process","path","render","defaultState","loginReducer","action","error","errorMessage","roleReducer","userReducer","moderatorReducer","newState","timeslotReducer","newTimeslots","newTimeslotsDeleted","timeslotCategorieReducer","store","createStore","combineReducers","applyMiddleware","thunk","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.b6b1bb54.chunk.js","sourcesContent":["import Axios from \"axios\"\r\nimport {config} from \"../utils/config\"\r\n\r\nconst baseUrl = `${config().url}/api/user/login`\r\n\r\nexport const login = (email, password) => {\r\n    return async dispatch => {\r\n        try {\r\n            const user = await Axios.post(baseUrl, { email: email, password: password })\r\n            const userData = user.data\r\n\r\n            localStorage.setItem(\"token\", userData.token)\r\n            dispatch({\r\n                type: \"LOGIN\",\r\n                data: {\r\n                    email: userData.email,\r\n                    token: userData.token\r\n                }\r\n            })\r\n        } catch (error) {\r\n            switch (error.response.status) {\r\n                case 401:\r\n                    dispatch({\r\n                        type: \"LOGIN_ERROR\",\r\n                        data: {\r\n                            errorCode: error.response.data.errorCode\r\n                        }\r\n                    })\r\n                    break\r\n                default:\r\n                    dispatch({\r\n                        type: \"SERVER_ERROR\"\r\n                    })\r\n                    break\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport const setToken = (token) => {\r\n    return {\r\n        type: \"LOGIN\",\r\n        data: {\r\n            token: token\r\n\r\n        }\r\n    }\r\n}\r\n\r\nexport const logout = () => {\r\n    localStorage.clear()\r\n    return {\r\n        type: \"LOGOUT\"\r\n    }\r\n}\r\n\r\nexport const noTokenStorage = () => {\r\n    console.log(\"no storage\")\r\n    return {\r\n        type: \"NO_TOKEN\"\r\n    }\r\n}","export const config = () => {\r\n    if(process.env.NODE_ENV === \"development\") {\r\n        return {\r\n            url : \"http://localhost:3001\"\r\n        }\r\n    }\r\n    return {\r\n        url: \"\"\r\n    }\r\n}\r\n","import React from 'react';\r\nimport {Alert} from '@material-ui/lab';\r\n\r\nexport const errorCodeFormatting = (errorCode, errorText, errorInfo = \"\") => {\r\n    if(!errorCode || errorCode === \"\") {\r\n        return;\r\n    }\r\n    return <Alert severity=\"error\">{errorText(errorCode, errorInfo)}</Alert>\r\n}","import React, { useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { login } from \"../actions/login\"\r\nimport { useHistory } from 'react-router';\r\nimport { errorCodeFormatting } from '../utils/errorCodeFormatting';\r\n\r\nfunction LoginForm() {\r\n    const dispatch = useDispatch()\r\n\r\n    const errorCode = useSelector(state => state.login.errorCode)\r\n\r\n    const history = useHistory()\r\n\r\n    const [email, setEmail] = useState(\"\")\r\n    const [password, setPassword] = useState(\"\")\r\n\r\n    const handleEmailChange = (event) => {\r\n        setEmail(event.target.value)\r\n    }\r\n\r\n    const handlePasswordChange = (event) => {\r\n        setPassword(event.target.value)\r\n    }\r\n\r\n    const handleSubmit = (event) => {\r\n        event.preventDefault()\r\n        dispatch(login(email, password))\r\n        history.push(\"/\")\r\n        setPassword(\"\")\r\n        setEmail(\"\")\r\n    }\r\n\r\n\r\n    const errorText = (errorCode) => {\r\n        switch (errorCode) {\r\n            case \"INVALID_EMAIL_OR_PASS\":\r\n                return \"The email or password appear to be incorrect.\"\r\n            default:\r\n                return \"\"\r\n        }\r\n    }\r\n\r\n \r\n    return (\r\n        <div>\r\n            {errorCodeFormatting(errorCode, errorText)}\r\n            < form onSubmit={handleSubmit} >\r\n            email: <input type=\"email\" value={email} onChange={handleEmailChange} /> <br />\r\n      password: <input type=\"password\" value={password} onChange={handlePasswordChange} /><br />\r\n            <input type=\"submit\" />\r\n        </form >\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default LoginForm","import Axios from \"axios\"\r\nimport {config} from \"../utils/config\"\r\n\r\nconst baseUrl = `${config().url}/api/user`\r\n\r\nexport const getUserInformation = (token) => {\r\n    return async dispatch => {\r\n        try {\r\n            const user = await Axios.get(baseUrl, {\r\n                headers: {\r\n                    \"authorization\": `bearer ${token}`\r\n                }\r\n            })\r\n\r\n            const userData = user.data\r\n\r\n            dispatch({\r\n                type: \"USER_INFORMATION\",\r\n                data: {\r\n                    user: userData\r\n                }\r\n            })\r\n        } catch (error) {\r\n            console.log(error.response.status)\r\n            switch(error.response.status) {\r\n                case 401:\r\n                    dispatch({\r\n                        type: \"INVALID_TOKEN\"\r\n                    })\r\n                    break\r\n                default:\r\n                    dispatch({\r\n                        type: \"SERVER_ERROR\"\r\n                    })\r\n                    break\r\n                }\r\n        }\r\n    }\r\n}","import React, {useEffect} from 'react';\r\nimport {useSelector, useDispatch } from 'react-redux'\r\nimport { getUserInformation } from \"../actions/user\"\r\n\r\nfunction UserInformation() {\r\n    const userinformation = useSelector(state => state.user.user)\r\n    const userRoles = useSelector(state => state.user.roles)\r\n    const token = useSelector(state => state.login.token)\r\n    const dispatch = useDispatch()\r\n\r\n\r\n    useEffect(() => {\r\n        dispatch(getUserInformation(token))\r\n    }, [dispatch, token])\r\n\r\n    const mapRoles = (roles) => {\r\n\r\n        const roleListElements = roles.map((role) => \r\n            <li key={role.id} >{role.abreviation} ({role.description})</li>\r\n        )\r\n    \r\n        return <ul>{roleListElements}</ul>\r\n    }\r\n    \r\n    //renders only if there is userinformation\r\n    if(userinformation) {\r\n        return (\r\n            <div>\r\n                Email: {userinformation.email} \r\n                <hr />\r\n                Hallo {userinformation.frontName} {userinformation.lastName},\r\n                <br/>\r\n                \r\n                je rollen zijn\r\n                {userRoles ? mapRoles(userRoles) : \" loading\"}\r\n            </div>\r\n        )\r\n    }\r\n\r\n    //default return\r\n    return (\r\n        <div>Loading....</div>\r\n    )\r\n}\r\n\r\nexport default UserInformation","import Axios from \"axios\"\r\n\r\n\r\nimport {config} from \"../utils/config\"\r\n\r\nconst baseUrl = `${config().url}/api/moderator`\r\n\r\nexport const getUsers = (token) => {\r\n    return async dispatch => {\r\n        try {\r\n            const users = await Axios.get(`${baseUrl}/users`, {\r\n                headers: {\r\n                    \"authorization\": `bearer ${token}`\r\n                }\r\n            })\r\n\r\n            const userList = users.data\r\n            dispatch({\r\n                type: \"USERS_LIST\",\r\n                data: {\r\n                    userList: userList\r\n                }\r\n            })\r\n        } catch (error) {\r\n            console.log(error.response.status)\r\n            switch (error.response.status) {\r\n                case 401:\r\n                    dispatch({\r\n                        type: \"INVALID_TOKEN\"\r\n                    })\r\n                    break\r\n                default:\r\n                    dispatch({\r\n                        type: \"SERVER_ERROR\"\r\n                    })\r\n                    break\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport const addUser = (token, email, frontName, lastName) => {\r\n    return async dispatch => {\r\n        try {\r\n            const user = await Axios.post(`${baseUrl}/addUser`,\r\n                {\r\n                    email: email,\r\n                    frontName: frontName,\r\n                    lastName: lastName\r\n                },\r\n                {\r\n                    headers: {\r\n                        \"authorization\": `bearer ${token}`\r\n                    }\r\n                }\r\n            )\r\n            const userEntity = user.data\r\n\r\n            //refresh user list\r\n            dispatch({\r\n                type: \"ADD_USER\",\r\n                data: {\r\n                    user: userEntity\r\n                }\r\n            })\r\n        } catch (error) {\r\n            console.log(error.response.data)\r\n            switch (error.response.status) {\r\n                case 400: \r\n                    dispatch({\r\n                        type: \"VALIDATION_ERROR_ADD_USER\",\r\n                        data: error.response.data\r\n                    })\r\n                    break\r\n                case 401:\r\n                    dispatch({\r\n                        type: \"INVALID_TOKEN\"\r\n                    })\r\n                    break\r\n                default:\r\n                    dispatch({\r\n                        type: \"SERVER_ERROR\"\r\n                    })\r\n                    break\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport const deleteUser = (token, userId) => {\r\n    return async dispatch => {\r\n        try {\r\n            await Axios.post(`${baseUrl}/deleteUser`,\r\n                {\r\n                    userId: userId\r\n                },\r\n                {\r\n                    headers: {\r\n                        \"authorization\": `bearer ${token}`\r\n                    }\r\n                }\r\n            )\r\n            //refresh user list\r\n            dispatch({\r\n                type: \"DELETE_USER_SUCCES\",\r\n            })\r\n        } catch (error) {\r\n            console.log(error.response.data)\r\n            switch (error.response.status) {\r\n                case 400: \r\n                    dispatch({\r\n                        type: \"VALIDATION_ERROR_ADD_USER\",\r\n                        data: error.response.data\r\n                    })\r\n                    break\r\n                case 401:\r\n                    dispatch({\r\n                        type: \"INVALID_TOKEN\"\r\n                    })\r\n                    break\r\n                default:\r\n                    dispatch({\r\n                        type: \"SERVER_ERROR\"\r\n                    })\r\n                    break\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport const addRole = (token, abreviation, description) => {\r\n    return async dispatch => {\r\n        try {\r\n            const role = await Axios.post(`${baseUrl}/addRole`,\r\n                {\r\n                    abreviation: abreviation,\r\n                    description: description\r\n                },\r\n                {\r\n                    headers: {\r\n                        \"authorization\": `bearer ${token}`\r\n                    }\r\n                }\r\n            )\r\n            const roleEntity = role.data\r\n            console.log(\"addRole\", roleEntity)\r\n            //add role to role list\r\n            dispatch({\r\n                type: \"ADD_ROLE\",\r\n                data: {\r\n                    role : roleEntity\r\n                }    \r\n            })\r\n        } catch (error) {\r\n            switch (error.response.status) {\r\n                case 400: \r\n                    dispatch({\r\n                        type: \"VALIDATION_ERROR_ADD_ROLE\",\r\n                        data: error.response.data\r\n                    })\r\n                    break\r\n                case 401:\r\n                    dispatch({\r\n                        type: \"INVALID_TOKEN\"\r\n                    })\r\n                    break\r\n                default:\r\n                    dispatch({\r\n                        type: \"SERVER_ERROR\"\r\n                    })\r\n                    break\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport const toggleRole = (token, roleId, userId) => {\r\n    return async dispatch => {\r\n        console.log('lamo')\r\n        try {\r\n            const toggleRoleRespone = await Axios.post(`${baseUrl}/toggleRole`,\r\n                {\r\n                    roleId: roleId,\r\n                    userId: userId\r\n                },\r\n                {\r\n                    headers: {\r\n                        \"authorization\": `bearer ${token}`\r\n                    }\r\n                }\r\n            )\r\n            const roleEntity = toggleRoleRespone.data.role\r\n            const userEntity = toggleRoleRespone.data.user\r\n            console.log(\"addRole\", toggleRoleRespone.data)\r\n            //add role to role list\r\n            dispatch({\r\n                type: \"TOGGLE_ROLE\",\r\n                data: {\r\n                    user : userEntity,\r\n                    role: roleEntity\r\n                }    \r\n            })\r\n        } catch (error) {\r\n            console.log(error)\r\n            if(!error.response){\r\n                dispatch({\r\n                    type: \"WEIRD_ERROR\"\r\n                })\r\n                return;\r\n            }\r\n\r\n            switch (error.response.status) {\r\n                case 400: \r\n                    dispatch({\r\n                        type: \"VALIDATION_ERROR_ADD_ROLE\",\r\n                        data: error.response.data\r\n                    })\r\n                    break\r\n                case 401:\r\n                    dispatch({\r\n                        type: \"INVALID_TOKEN\"\r\n                    })\r\n                    break\r\n                default:\r\n                    dispatch({\r\n                        type: \"SERVER_ERROR\"\r\n                    })\r\n                    break\r\n            }\r\n        }\r\n    }\r\n}","import Axios from \"axios\"\r\n\r\nimport {config} from \"../utils/config\"\r\n\r\nconst baseUrl = `${config().url}/api/role`\r\n\r\n\r\nexport const getRoleList = () => {\r\n    return async dispatch => {\r\n        try {\r\n            const roles = await Axios.get(`${baseUrl}`)\r\n\r\n            const rolesList = roles.data\r\n            dispatch({\r\n                type: \"ROLE_LIST\",\r\n                data: {\r\n                    roles: rolesList\r\n                }\r\n            })\r\n        } catch (error) {\r\n            console.log(error.response.status)\r\n            switch (error.response.status) {\r\n                case 401:\r\n                    dispatch({\r\n                        type: \"INVALID_TOKEN\"\r\n                    })\r\n                    break\r\n                default:\r\n                    dispatch({\r\n                        type: \"SERVER_ERROR\"\r\n                    })\r\n                    break\r\n            }\r\n        }\r\n    }\r\n}","import React, { useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { addUser } from \"../actions/moderator\"\r\n\r\n\r\nfunction AddUser() {\r\n    const dispatch = useDispatch()\r\n\r\n    const token = useSelector(state => state.login.token)\r\n\r\n\r\n    const [email, setEmail] = useState(\"\")\r\n    const [frontName, setFrontName] = useState(\"\")\r\n    const [lastName, setLastName] = useState(\"\")\r\n    const handleEmailChange = (event) => {\r\n        setEmail(event.target.value)\r\n    }\r\n\r\n    const handleFrontNameChange = (event) => {\r\n        setFrontName(event.target.value)\r\n    }\r\n\r\n    const handleLastNameChange = (event) => {\r\n        setLastName(event.target.value)\r\n    }\r\n\r\n    const handleSubmit = (event) => {\r\n        event.preventDefault()\r\n        dispatch(addUser(token, email, frontName, lastName))\r\n        setFrontName(\"\")\r\n        setLastName(\"\")\r\n        setEmail(\"\")\r\n    }\r\n    return (\r\n        < form onSubmit={handleSubmit} >\r\n            email: <input type=\"email\" value={email} onChange={handleEmailChange} /> <br />\r\n            front name: <input type=\"text\" value={frontName} onChange={handleFrontNameChange} /><br />\r\n            last name  <input type=\"text\" value={lastName} onChange={handleLastNameChange} /><br />\r\n            <input type=\"submit\" />\r\n        </form >\r\n    )\r\n}\r\n\r\nexport default AddUser","import React, { useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { addRole } from \"../actions/moderator\"\r\n\r\n\r\nfunction AddUser() {\r\n    const dispatch = useDispatch()\r\n\r\n    const token = useSelector(state => state.login.token)\r\n\r\n\r\n    const [abreviation, setAbreviation] = useState(\"\")\r\n    const [description, setDescription] = useState(\"\")\r\n    const handleAbreviationChange = (event) => {\r\n        setAbreviation(event.target.value)\r\n    }\r\n\r\n    const handleDescriptionChange = (event) => {\r\n        setDescription(event.target.value)\r\n    }\r\n\r\n\r\n    const handleSubmit = (event) => {\r\n        event.preventDefault()\r\n        dispatch(addRole(token, abreviation, description))\r\n        setAbreviation(\"\")\r\n        setDescription(\"\")\r\n    }\r\n    return (\r\n        < form onSubmit={handleSubmit} >\r\n            abreviation: <input type=\"text\" value={abreviation} onChange={handleAbreviationChange} /> <br />\r\n            description: <input type=\"text\" value={description} onChange={handleDescriptionChange} /><br />\r\n            <input type=\"submit\" />\r\n        </form >\r\n    )\r\n}\r\n\r\nexport default AddUser","import React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { getUsers, deleteUser, toggleRole } from \"../actions/moderator\"\r\nimport { getRoleList } from \"../actions/role\"\r\nimport \"../css/dropdown.css\"\r\n\r\nimport AddUser from \"./AddUser\"\r\nimport AddRole from \"./AddRole\"\r\n\r\nfunction UserList() {\r\n    const dispatch = useDispatch()\r\n\r\n    const users = useSelector(state => state.moderator)\r\n    const token = useSelector(state => state.login.token)\r\n    const roles = useSelector(state => state.roles)\r\n\r\n    useEffect(() => {\r\n        if (token) {\r\n            dispatch(getUsers(token))\r\n            dispatch(getRoleList())\r\n        }\r\n    }, [dispatch, token])\r\n\r\n\r\n    \r\n\r\n    const findRoleById = (rolesArray, roleId) => {\r\n        return rolesArray.filter(role => role.id === roleId)[0]\r\n    }\r\n\r\n    function mapUsers() {\r\n        return (\r\n            <table>\r\n                <thead>\r\n                    <tr>\r\n                        <th>front name</th>\r\n                        <th>Last name</th>\r\n                        <th>Email</th>\r\n                        <th>ID</th>\r\n                        <th>roles</th>\r\n\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {\r\n                        users.map(user => <tr key={user.id}>\r\n                            <td>{user.frontName}</td>\r\n                            <td>{user.lastName}</td>\r\n                            <td>{user.email}</td>\r\n                            <td>{user.id}</td>\r\n                            <td>{user.roles.map(role => <div key={role}>{findRoleById(roles, role).abreviation}</div>)}</td>\r\n                            <td><button onClick={() => dispatch(deleteUser(token, user.id))}>Delete User</button></td>\r\n                            <td>\r\n                                <div className=\"dropdown\">\r\n                                    <button className=\"dropbtn\">Dropdown</button>\r\n                                    <div className=\"dropdown-content\">\r\n                                        {roles.map(role => <button key={role.id} onClick={() => dispatch(toggleRole(token, role.id, user.id))}>{role.abreviation}</button>)}\r\n                                    </div>\r\n                                </div>\r\n\r\n                            </td>\r\n                        </tr>)\r\n                    }\r\n                </tbody>\r\n            </table>\r\n        )\r\n    }\r\n\r\n    if (users && roles) {\r\n        return (\r\n            <div>\r\n\r\n                {mapUsers()}\r\n                <AddUser />\r\n                <AddRole />\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return <div></div>\r\n}\r\n\r\nexport default UserList","import Axios from \"axios\"\r\n\r\nimport {config} from \"../utils/config\"\r\n\r\nconst baseUrl = `${config().url}/api/timeslotCategorie`\r\n\r\n\r\nexport const addTimeslotCategorie = (token, title, cancelLength) => {\r\n    return async dispatch => {\r\n        try {\r\n            const timeslotCategorie = await Axios.post(`${baseUrl}`,\r\n                {\r\n                    title: title,\r\n                    cancelLength: cancelLength                },\r\n                {\r\n                    headers: {\r\n                        \"authorization\": `bearer ${token}`\r\n                    }\r\n                }\r\n            )\r\n            const categorieEntity = timeslotCategorie.data\r\n\r\n            //refresh user list\r\n            dispatch({\r\n                type: \"ADD_TIMESLOT_CATEGORIE\",\r\n                data: {\r\n                    timeslotCategorie: categorieEntity\r\n                }\r\n            })\r\n        } catch (error) {\r\n            console.log(error.response.data)\r\n            switch (error.response.status) {\r\n                case 400: \r\n                    dispatch({\r\n                        type: \"TIMESLOT_CATEGORIE_ERROR\",\r\n                        errorCode: error.response.data.errorCode\r\n                    })\r\n                    break\r\n                case 401:\r\n                    dispatch({\r\n                        type: \"TIMESLOT_CATEGORIE_VALIDATION_ERROR\"\r\n                    })\r\n                    break\r\n                default:\r\n                    dispatch({\r\n                        type: \"SERVER_ERROR\"\r\n                    })\r\n                    break\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport const getTimeslotCategorieList = (token) => {\r\n    return async dispatch => {\r\n        try {\r\n            const timeslotCategorie = await Axios.get(`${baseUrl}`,\r\n                {\r\n                    headers: {\r\n                        \"authorization\": `bearer ${token}`\r\n                    }\r\n                }\r\n            )\r\n            const categoriesEtity = timeslotCategorie.data\r\n\r\n            //refresh user list\r\n            dispatch({\r\n                type: \"TIMESLOT_CATEGORIE_LIST\",\r\n                data: {\r\n                    timeslotCategories: categoriesEtity\r\n                }\r\n            })\r\n        } catch (error) {\r\n            console.log(error.response.data)\r\n            switch (error.response.status) {\r\n                case 400: \r\n                    dispatch({\r\n                        type: \"TIMESLOT_CATEGORIE_ERROR\",\r\n                        errorCode: error.response.data.errorCode\r\n                    })\r\n                    break\r\n                case 401:\r\n                    dispatch({\r\n                        type: \"TIMESLOT_CATEGORIE_VALIDATION_ERROR\"\r\n                    })\r\n                    break\r\n                default:\r\n                    dispatch({\r\n                        type: \"SERVER_ERROR\"\r\n                    })\r\n                    break\r\n            }\r\n        }\r\n    }\r\n}","import React, { useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { errorCodeFormatting } from '../utils/errorCodeFormatting';\r\nimport {addTimeslotCategorie} from \"../actions/timeslotCategorie\"\r\n\r\nfunction TimeslotCategorieForm() {\r\n    const dispatch = useDispatch()\r\n\r\n    const timeslotCategorieState = useSelector(state => state.timeslotCategorie)\r\n    const token = useSelector(state => state.login.token)\r\n\r\n    const [title, setTitle] = useState(\"\")\r\n    const [cancelLength, setCancelLength] = useState(24)\r\n\r\n    const handleTitleChange = (event) => {\r\n        setTitle(event.target.value)\r\n    }\r\n\r\n    const handleCancelLengthChange = (event) => {\r\n        setCancelLength(event.target.value)\r\n    }\r\n\r\n    const handleSubmit = (event) => {\r\n        event.preventDefault()\r\n        dispatch(addTimeslotCategorie(token, title, cancelLength))\r\n        setTitle(\"\")\r\n        setCancelLength(24)\r\n    }\r\n\r\n\r\n    const errorText = (errorCode) => {\r\n        switch (errorCode) {\r\n            case \"TITLE_LENGTH_ERROR\":\r\n                return \"The title appears to be of incorrect length\"\r\n            default:\r\n                return \"\"\r\n        }\r\n    }\r\n    \r\n\r\n\r\n    return (\r\n        <div>\r\n            {errorCodeFormatting(timeslotCategorieState.errorCode, errorText)}\r\n            < form onSubmit={handleSubmit} >\r\n            title: <input type=\"text\" value={title} onChange={handleTitleChange} /> <br />\r\n            cancle length (hours): <input type=\"number\" min={0} value={cancelLength} onChange={handleCancelLengthChange} /><br />\r\n            <input type=\"submit\" />\r\n        </form >\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default TimeslotCategorieForm","import React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { getUserInformation } from \"../actions/user\"\r\n\r\nimport UserInformation from \"./UserInformation\"\r\nimport UserList from \"./UserList\"\r\nimport TimeslotCategorieForm from './TimeslotCatogorieForm';\r\n\r\nfunction Moderator() {\r\n    const dispatch = useDispatch()\r\n    const token = useSelector(state => state.login.token)\r\n\r\n    useEffect(() => {\r\n        dispatch(getUserInformation(token))\r\n    }, [dispatch, token])\r\n\r\n\r\n\r\n    return (\r\n        <div>\r\n            <UserInformation/>\r\n            <UserList/>\r\n            <TimeslotCategorieForm/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Moderator","import React, { useEffect } from 'react';\r\nimport { useDispatch } from 'react-redux'\r\nimport { logout } from \"../actions/login\"\r\nimport { useHistory } from 'react-router';\r\n\r\nfunction Logout() {\r\n    const dispatch = useDispatch()\r\n    const history = useHistory()\r\n\r\n    useEffect(() => {\r\n        dispatch(logout())\r\n        history.push(\"/\")\r\n    }, [dispatch, history])\r\n\r\n    return (\r\n        <div>logout</div>\r\n    )\r\n}\r\n\r\nexport default Logout","import Axios from \"axios\"\r\nimport {config} from \"../utils/config\"\r\n\r\nconst baseUrl = `${config().url}/api/timeslot`\r\n\r\nexport const addTimeslot = (token, description, startTime, endTime, maxPeople, roles, timeslotCategorie) => {\r\n    return async dispatch => {\r\n        try {\r\n            const user = await Axios.post(`${baseUrl}`,\r\n                {\r\n                    description: description,\r\n                    startTime: startTime,\r\n                    endTime: endTime,\r\n                    maxPeople: maxPeople,\r\n                    roles: roles,\r\n                    timeslotCategorie: timeslotCategorie\r\n                },\r\n                {\r\n                    headers: {\r\n                        \"authorization\": `bearer ${token}`\r\n                    }\r\n                }\r\n            )\r\n            const timeslotData = user.data\r\n\r\n            setTimeout(() => {\r\n                dispatch({\r\n                    type: \"RESET_SUCCES_TIMESLOT\"\r\n                })\r\n            }, 5000)\r\n\r\n            //refresh user list\r\n            dispatch({\r\n                type: \"ADD_TIMESLOT\",\r\n                data: {\r\n                    timeslot: timeslotData\r\n                }\r\n            })\r\n        } catch (error) {\r\n            console.log(error)\r\n            \r\n            switch (error.response.status) {\r\n                case 400: \r\n                    dispatch({\r\n                        type: \"TIMESLOT_ERROR\",\r\n                        data: {\r\n                            errorCode: error.response.data.errorCode,\r\n                            errorInfo: error.response.data.errorInfo\r\n                        } \r\n                    })\r\n                    break\r\n                case 401:\r\n                    dispatch({\r\n                        type: \"TIMESLOT_ERROR\",\r\n                        data: {\r\n                            errorCode: error.response.data.errorCode\r\n                        }\r\n                    })\r\n                    break\r\n                default:\r\n                    dispatch({\r\n                        type: \"SERVER_ERROR\"\r\n                    })\r\n                    break\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport const getTimeslots = (token) => {\r\n    return async dispatch => {\r\n        try {\r\n            const timeslots = await Axios.get(`${baseUrl}`,\r\n                {\r\n                    headers: {\r\n                        \"authorization\": `bearer ${token}`\r\n                    }\r\n                }\r\n            )\r\n            const timeslotsData = timeslots.data\r\n\r\n            //refresh user list\r\n            dispatch({\r\n                type: \"TIMESLOT_LIST\",\r\n                data: {\r\n                    timeslots: timeslotsData\r\n                }\r\n            })\r\n        } catch (error) {\r\n            console.log(error.response.data)\r\n            switch (error.response.status) {\r\n                case 400: \r\n                    dispatch({\r\n                        type: \"VALIDATION_ERROR_TIMESLOT\",\r\n                        data: error.response.data\r\n                    })\r\n                    break\r\n                case 401:\r\n                    dispatch({\r\n                        type: \"INVALID_TOKEN\"\r\n                    })\r\n                    break\r\n                default:\r\n                    dispatch({\r\n                        type: \"SERVER_ERROR\"\r\n                    })\r\n                    break\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport const subscribeTimeslot = (token, timeslotId) => {\r\n    return async dispatch => {\r\n        try {\r\n            const timeslot = await Axios.post(`${baseUrl}/subscribe`,\r\n                {\r\n                    timeslotId: timeslotId\r\n                },\r\n                {\r\n                    headers: {\r\n                        \"authorization\": `bearer ${token}`\r\n                    }\r\n                }\r\n            )\r\n            const timeslotData = timeslot.data\r\n\r\n            //refresh user list\r\n            dispatch({\r\n                type: \"SUBSCRIBED_TIMESLOT\",\r\n                data: {\r\n                    timeslot: timeslotData\r\n                }\r\n            })\r\n        } catch (error) {\r\n            console.log(error.response.data)\r\n            switch (error.response.status) {\r\n                case 400: \r\n                    dispatch({\r\n                        type: \"TIMESLOT_ERROR\",\r\n                        data: error.response.data\r\n                    })\r\n                    break\r\n                case 401:\r\n                    dispatch({\r\n                        type: \"INVALID_TOKEN\"\r\n                    })\r\n                    break\r\n                default:\r\n                    dispatch({\r\n                        type: \"SERVER_ERROR\"\r\n                    })\r\n                    break\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport const unSubscribe = (token, timeslotId) => {\r\n    return async dispatch => {\r\n        try {\r\n            const timeslot = await Axios.post(`${baseUrl}/unsubscribe`,\r\n                {\r\n                    timeslotId: timeslotId\r\n                },\r\n                {\r\n                    headers: {\r\n                        \"authorization\": `bearer ${token}`\r\n                    }\r\n                }\r\n            )\r\n            const timeslotData = timeslot.data\r\n\r\n            //unsubscribe redux is same as subscribe redux maybe change name in future?\r\n            dispatch({\r\n                type: \"SUBSCRIBED_TIMESLOT\",\r\n                data: {\r\n                    timeslot: timeslotData\r\n                }\r\n            })\r\n        } catch (error) {\r\n            console.log(error)\r\n            switch (error.response.status) {\r\n                case 400: \r\n                    dispatch({\r\n                        type: \"TIMESLOT_ERROR\",\r\n                        data: error.response.data\r\n                    })\r\n                    break\r\n                case 401:\r\n                    dispatch({\r\n                        type: \"INVALID_TOKEN\"\r\n                    })\r\n                    break\r\n                default:\r\n                    dispatch({\r\n                        type: \"SERVER_ERROR\"\r\n                    })\r\n                    break\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport const deleteTimeslot = (token, timeslotId) => {\r\n    return async dispatch => {\r\n        try {\r\n            await Axios.post(`${baseUrl}/delete`,\r\n                {\r\n                    timeslotId: timeslotId\r\n                },\r\n                {\r\n                    headers: {\r\n                        \"authorization\": `bearer ${token}`\r\n                    }\r\n                }\r\n            )\r\n\r\n            //unsubscribe redux is same as subscribe redux maybe change name in future?\r\n            dispatch({\r\n                type: \"DELETE_TIMESLOT\",\r\n                data: {\r\n                    timeslotId: timeslotId \r\n                }\r\n            })\r\n        } catch (error) {\r\n            console.log(error)\r\n            switch (error.response.status) {\r\n                case 400: \r\n                    dispatch({\r\n                        type: \"TIMESLOT_ERROR\",\r\n                        data: error.response.data\r\n                    })\r\n                    break\r\n                case 401:\r\n                    dispatch({\r\n                        type: \"INVALID_TOKEN\"\r\n                    })\r\n                    break\r\n                default:\r\n                    dispatch({\r\n                        type: \"SERVER_ERROR\"\r\n                    })\r\n                    break\r\n            }\r\n        }\r\n    }\r\n}","function pad(number) {\r\n    if (number < 10) {\r\n      return '0' + number;\r\n    }\r\n    return number;\r\n}\r\n\r\nexport const formatDateForCard = (startDate, endDate) => {\r\n    const months = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\r\n\r\n    \r\n    if (toDateString(startDate) === toDateString(endDate)) {\r\n        return `${pad(startDate.getHours())}:${pad(startDate.getMinutes())}-${pad(endDate.getHours())}:${pad(endDate.getMinutes())} ${months[startDate.getMonth()]}, ${startDate.getDate()} ${startDate.getFullYear()}`\r\n    }\r\n\r\n    if(startDate.getFullYear() === endDate.getFullYear()) {\r\n        return `${months[startDate.getMonth()]}, ${startDate.getDate()} ${pad(startDate.getHours())}:${pad(startDate.getMinutes())}-${months[endDate.getMonth()]}, ${endDate.getDate()} ${pad(endDate.getHours())}:${pad(endDate.getMinutes())}`\r\n    }\r\n    return `${months[startDate.getMonth()]}, ${startDate.getDate()} ${startDate.getFullYear()}, ${pad(startDate.getHours())}:${pad(startDate.getMinutes())}-${months[endDate.getMonth()]}, ${endDate.getDate()} ${endDate.getFullYear()}, ${pad(endDate.getHours())}:${pad(endDate.getMinutes())}`\r\n}\r\n\r\nexport const toDateString = (date) => {\r\n    return `${date.getFullYear()}-${pad(date.getMonth() + 1)}-${pad(date.getDate())}`\r\n}\r\n\r\nexport const toTimeString = (date) => {\r\n    return `${pad(date.getHours())}:${pad(date.getMinutes())}`\r\n}","import React, { useState, useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { addTimeslot } from \"../actions/timeslot\"\r\n\r\nimport { toDateString, toTimeString } from \"../utils/timeFormat\"\r\nimport {errorCodeFormatting} from \"../utils/errorCodeFormatting\"\r\n\r\nimport { getRoleList } from '../actions/role';\r\n\r\nimport {Alert} from \"@material-ui/lab\"\r\nimport { getTimeslotCategorieList } from '../actions/timeslotCategorie';\r\n\r\nfunction TimeslotForm() {\r\n    const token = useSelector(state => state.login.token)\r\n    const roles = useSelector(state => state.roles)\r\n    const timeslotCategories = useSelector(state => state.timeslotCategorie.timeslotCategories)\r\n    const errorCode = useSelector(state => state.timeslot.errorCode)\r\n    const successTimeslot = useSelector(state => state.timeslot.succes)\r\n\r\n\r\n    const [description, setDescription] = useState(\"\")\r\n    const [startTime, setStarttime] = useState(new Date())\r\n    const [endTime, setEndTime] = useState(new Date())\r\n    const [maxPeople, setMaxPeople] = useState(1)\r\n    const [roleSelection, setRoleSelection] = useState([])\r\n    const [categorieSelection, setCategorieSelection] = useState(\"\")\r\n\r\n\r\n\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    useEffect(() => {\r\n        dispatch(getRoleList())\r\n        dispatch(getTimeslotCategorieList(token))\r\n    }, [dispatch, token])\r\n\r\n    const handleDescriptionChange = (event) => {\r\n        setDescription(event.target.value)\r\n    }\r\n\r\n    const handleStartTimeDateChange = (event) => {\r\n        const dateSplitted = event.target.value.split(\"-\")\r\n        let tempDate = new Date(startTime.getTime())\r\n        if (event.target.value !== \"\") {\r\n            tempDate.setFullYear(dateSplitted[0])\r\n            tempDate.setMonth(dateSplitted[1] - 1)\r\n            tempDate.setDate(dateSplitted[2])\r\n\r\n            console.log(tempDate)\r\n\r\n            setStarttime(tempDate)\r\n        }\r\n    }\r\n\r\n    const handleStartTimeTimeChange = (event) => {\r\n        let timeSplitted = event.target.value.split(\":\")\r\n        let tempDate = new Date(startTime.getTime())\r\n\r\n        if (event.target.value !== \"\") {\r\n            console.log(timeSplitted, event.target.value, \"testing\")\r\n\r\n            tempDate.setHours(timeSplitted[0])\r\n            tempDate.setMinutes(timeSplitted[1])\r\n\r\n            setStarttime(tempDate)\r\n\r\n        }\r\n\r\n\r\n    }\r\n\r\n    const handleEndTimeDateChange = (event) => {\r\n        const dateSplitted = event.target.value.split(\"-\")\r\n        let tempDate = new Date(endTime.getTime())\r\n        if (event.target.value !== \"\") {\r\n            tempDate.setFullYear(dateSplitted[0])\r\n            tempDate.setMonth(dateSplitted[1] - 1)\r\n            tempDate.setDate(dateSplitted[2])\r\n\r\n            setEndTime(tempDate)\r\n        }\r\n    }\r\n\r\n    const handleEndTimeTimeChange = (event) => {\r\n\r\n        let timeSplitted = event.target.value.split(\":\")\r\n        let tempDate = new Date(endTime.getTime())\r\n\r\n        if (event.target.value !== \"\") {\r\n            tempDate.setHours(timeSplitted[0])\r\n            tempDate.setMinutes(timeSplitted[1])\r\n\r\n            setEndTime(tempDate)\r\n        }\r\n    }\r\n\r\n    const handleMaxPeople = (event) => {\r\n        setMaxPeople(event.target.value)\r\n    }\r\n\r\n    const handleRoleSelectionChange = (event) => {\r\n        const roleToSelect = event.target.value\r\n\r\n        if (roleSelection.includes(roleToSelect)) {\r\n            console.log(\"lmao\")\r\n            setRoleSelection(roleSelection.filter(role => role !== roleToSelect))\r\n        } else {\r\n            setRoleSelection(roleSelection.concat(event.target.value))\r\n        }\r\n    }\r\n\r\n    const handleCategorieSelectionChange = (event) => {\r\n        setCategorieSelection(event.target.value)\r\n    }\r\n\r\n    const handleSubmit = (event) => {\r\n        console.log(startTime)\r\n        //if the categorie is not changed set the first categorie in the list\r\n        if(categorieSelection === \"\" && !categorieSelection) {\r\n            dispatch(addTimeslot(token, \r\n                description, startTime, endTime,\r\n                 maxPeople, roleSelection, timeslotCategories[0].id))\r\n        } else {\r\n            dispatch(addTimeslot(token, description, startTime, endTime, maxPeople, roleSelection, categorieSelection))\r\n        }\r\n        event.preventDefault()\r\n\r\n    }\r\n\r\n    const errorText = (errorCode) => {\r\n        switch (errorCode) {\r\n            case \"NOT_AUTHORIZED\":\r\n                return \"You are not not authorized to create timeslot\"\r\n            default:\r\n                return \"\"\r\n        }\r\n    }\r\n\r\n    const successFormatting = (success) => {\r\n        if(success) {\r\n            return <Alert severity=\"success\">This is a success alert  check it out!</Alert>\r\n        }\r\n        return;\r\n    }\r\n    //do not delete\r\n    const startTimeDateString = toDateString(startTime)\r\n    const startTimeTimeString = toTimeString(startTime)\r\n\r\n    const endTimeDateString = toDateString(endTime)\r\n    const endTimeTimeString = toTimeString(endTime)\r\n    console.log(categorieSelection, errorCode)\r\n\r\n\r\n\r\n    if (roles.length !== 0 && timeslotCategories !== 0) {\r\n        return (\r\n            <div>\r\n                {errorCodeFormatting(errorCode, errorText)}\r\n                {successFormatting(successTimeslot)}\r\n                < form onSubmit={handleSubmit} >\r\n                    description: <input type=\"text\" value={description} onChange={handleDescriptionChange} /> <br />\r\n                    startTime date: <input type=\"date\" value={startTimeDateString} onChange={handleStartTimeDateChange} />\r\n                    startTime time: <input type=\"time\" value={startTimeTimeString} onChange={handleStartTimeTimeChange} />\r\n                    <br />\r\n                    endTime date: <input type=\"date\" value={endTimeDateString} onChange={handleEndTimeDateChange} />\r\n                    endTime time: <input type=\"time\" value={endTimeTimeString} onChange={handleEndTimeTimeChange} />\r\n\r\n                    <br />\r\n                     maxPeople: <input type=\"number\" value={maxPeople} onChange={handleMaxPeople} /><br />\r\n                    <select value={roleSelection} onChange={handleRoleSelectionChange} multiple={true}>\r\n                        {\r\n                            roles.map((role) => {\r\n                                return <option key={role.id} value={role.id}>{role.abreviation}: {role.description}</option>\r\n                            })\r\n                        }\r\n                    </select>\r\n                    <select value={categorieSelection} onChange={handleCategorieSelectionChange}>\r\n                        {\r\n                            timeslotCategories.map((timeslotCategorie) => {\r\n                                return <option key={timeslotCategorie.id} value={timeslotCategorie.id}>{timeslotCategorie.title} minimum cancel times (hours): {timeslotCategorie.cancelLength}</option>\r\n                            })\r\n                        }\r\n                    </select>\r\n                    <input type=\"submit\" />\r\n                </form >\r\n            </div>\r\n        )\r\n    } else {\r\n        return <div>loading roles</div>\r\n    }\r\n}\r\n\r\nexport default TimeslotForm","export const checkRole = (userRoles, checkRole) => {\r\n    for (const user in userRoles){\r\n        if(userRoles[user].abreviation === checkRole) {\r\n            return true\r\n        }\r\n    }\r\n    return false\r\n}\r\n\r\nexport const checkTimeslotCategorie = (categorieList, categorieId) => {\r\n\r\n\r\n    for (const index in categorieList) {\r\n        if(categorieList[index].id === categorieId) {\r\n            return categorieList[index]\r\n        }\r\n    }\r\n    return null\r\n}","import React from 'react';\r\nimport { Card, CardHeader, CardContent, Typography, CardActions, Button, Grid, List, ListItem, ListItemText, ButtonGroup } from '@material-ui/core';\r\nimport { subscribeTimeslot, unSubscribe, deleteTimeslot } from '../actions/timeslot';\r\nimport { formatDateForCard } from \"../utils/timeFormat\"\r\nimport { useDispatch } from 'react-redux'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\n\r\nimport { checkRole, checkTimeslotCategorie } from '../utils/checkRole';\r\n\r\n\r\nfunction TimeslotCards({ timeslots, userRoles, categories, userId, roleList, sortingOption, token}) {\r\n    const dispatch = useDispatch()\r\n\r\n    const findRoleById = (rolesArray, roleId) => {\r\n        return rolesArray.filter(role => role.id === roleId)[0]\r\n    }\r\n\r\n    const useStyles = makeStyles((theme) => ({\r\n        root: {\r\n            width: 400,\r\n            height: 200,\r\n        }\r\n    }));\r\n\r\n    const classes = useStyles();\r\n\r\n    const sortTimeslot = (timeslots, sortOption) => {\r\n        switch (sortOption) {\r\n            case \"startTime\":\r\n                return timeslots.sort((firstTimeslot, secondTimeslot) => {\r\n                    return new Date(firstTimeslot.startTime) - new Date(secondTimeslot.startTime)\r\n                })\r\n            case \"endTime\":\r\n                return timeslots.sort((firstTimeslot, secondTimeslot) => {\r\n                    return new Date(firstTimeslot.endTime) - new Date(secondTimeslot.endTime)\r\n                })\r\n            case \"usersRising\":\r\n                return timeslots.sort((firstTimeslot, secondTimeslot) => {\r\n                    return firstTimeslot.subscribed.length - secondTimeslot.subscribed.length\r\n                })\r\n            case \"usersDecreasing\":\r\n                return timeslots.sort((firstTimeslot, secondTimeslot) => {\r\n                    return secondTimeslot.subscribed.length - firstTimeslot.subscribed.length\r\n                })\r\n            default:\r\n                return timeslots.sort((firstTimeslot, secondTimeslot) => {\r\n                    return new Date(firstTimeslot.startTime) - new Date(secondTimeslot.startTime)\r\n                })\r\n        }\r\n    }\r\n\r\n    const sorted = sortTimeslot(timeslots, sortingOption)\r\n\r\n\r\n    return <Grid\r\n        container\r\n        direction=\"row\"\r\n        justify=\"flex-start\"\r\n        alignItems=\"center\"\r\n    >\r\n        {sorted.map(timeslot => {\r\n            const startTimeDate = new Date(timeslot.startTime)\r\n            const endTimeDate = new Date(timeslot.endTime)\r\n\r\n            const returnElement =\r\n                <Card key={timeslot.id}>\r\n                    <CardHeader title={formatDateForCard(startTimeDate, endTimeDate)} subheader={checkTimeslotCategorie(categories, timeslot.timeslotCategorie).title}\r\n                        className={classes.root} />\r\n                    <CardContent>\r\n                        <Grid container spacing={2}>\r\n                            <Grid item xs={12} md={6}>\r\n                                <Typography variant=\"h6\" className={classes.title}>\r\n                                    Roles\r\n                            </Typography>\r\n                                <List dense={true}>\r\n                                    {timeslot.roles.map((roleId) => {\r\n                                        const role = findRoleById(roleList, roleId)\r\n\r\n                                        return <ListItem key={roleId}>\r\n                                            <ListItemText\r\n                                                primary={role.abreviation}\r\n                                            />\r\n                                        </ListItem>\r\n                                    })}\r\n                                </List>\r\n                            </Grid>\r\n                            <Grid item xs={12} md={6}>\r\n                                <Typography variant=\"h6\" className={classes.title}>\r\n                                    Users\r\n                            </Typography>\r\n                                <List dense={true}>\r\n                                    {timeslot.subscribed.map((userId) => {\r\n\r\n                                        return <ListItem key={userId}>\r\n                                            <ListItemText\r\n                                                primary={userId}\r\n                                            />\r\n                                        </ListItem>\r\n                                    })}\r\n                                </List>\r\n                            </Grid>\r\n                        </Grid>\r\n                        <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n                            {`${timeslot.subscribed.length}/${timeslot.maxPeople}`}<br />\r\n                        </Typography>\r\n\r\n                    </CardContent>\r\n\r\n                    <CardActions>\r\n                        <ButtonGroup>\r\n                            {\r\n                                !timeslot.subscribed.includes(userId) ?\r\n                                    <Button onDoubleClick={() => dispatch(subscribeTimeslot(token, timeslot.id))} color=\"primary\">\r\n                                        Meld mij aan\r\n                            </Button> :\r\n                                    <Button onDoubleClick={() => dispatch(unSubscribe(token, timeslot.id))} color=\"secondary\">\r\n                                        unSubscribe\r\n                            </Button>\r\n                            }\r\n                            {checkRole(userRoles, \"createTimeslots\") ? <Button onDoubleClick={() => dispatch(deleteTimeslot(token, timeslot.id))} color=\"secondary\">\r\n                                delete\r\n                        </Button> : \"\"}\r\n                        </ButtonGroup>\r\n                    </CardActions>\r\n                </Card>\r\n\r\n            return returnElement\r\n        })}\r\n    </Grid>\r\n}\r\n\r\nexport default TimeslotCards","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { getTimeslots } from '../actions/timeslot';\r\nimport { getRoleList } from '../actions/role';\r\n\r\n\r\nimport { errorCodeFormatting } from '../utils/errorCodeFormatting';\r\nimport { getUserInformation } from '../actions/user';\r\nimport { getTimeslotCategorieList } from '../actions/timeslotCategorie';\r\nimport TimeslotCards from \"./TimeslotCards\"\r\nimport { checkTimeslotCategorie } from '../utils/checkRole';\r\n\r\nfunction TimeslotList() {\r\n    const dispatch = useDispatch()\r\n\r\n\r\n\r\n    const timeslots = useSelector(state => state.timeslot.timeslots)\r\n    const roles = useSelector(state => state.roles)\r\n    const userInformation = useSelector(state => state.user)\r\n    const timeslotCategories = useSelector(state => state.timeslotCategorie.timeslotCategories)\r\n    const timeslotStatus = useSelector(state => state.timeslot)\r\n    const token = useSelector(state => state.login.token)\r\n\r\n\r\n    useEffect(() => {\r\n        if (token) {\r\n            dispatch(getTimeslots(token))\r\n            dispatch(getRoleList(token))\r\n            dispatch(getUserInformation(token))\r\n            dispatch(getTimeslotCategorieList(token))\r\n        }\r\n    }, [dispatch, token])\r\n\r\n    const sortOptions = [\r\n        {\r\n            value: \"startTime\",\r\n            name: \"start tijd\"\r\n        },\r\n        {\r\n            value: \"endTime\",\r\n            name: \"eind tijd\"\r\n        },\r\n        {\r\n            value: \"usersRising\",\r\n            name: \"hoeveelheid aangemeld stijdend\"\r\n        },\r\n        {\r\n            value: \"usersDecreasing\",\r\n            name: \"hoeveelheid aangemeld dalend\"\r\n        }\r\n    ]\r\n\r\n    const [sortOption, setSortOption] = useState(sortOptions[0].value)\r\n\r\n    const onSelectSortChange = (event) => {\r\n        setSortOption(event.target.value)\r\n    }\r\n\r\n\r\n\r\n    const errorText = (errorCode, errorInfo = \"\") => {\r\n        switch (errorCode) {\r\n            case \"TIMESLOT_FULL\":\r\n                return \"time slot full please fuck off\"\r\n            case \"NO_VALID_ROLE\":\r\n                return \"you do not have the required role to subscribe to this timeslot please contact the moderator if you think this is an error.\"\r\n            case \"TIME_ERROR\":\r\n                return `The time to cancel your appointment has sadly passed contact the COMBAR in case you really can't tap you need to cancel atleast ${errorInfo} hours in advance`\r\n\r\n            default:\r\n                return <div></div>\r\n        }\r\n    }\r\n\r\n\r\n    var groupBy = function (xs, key) {\r\n        return xs.reduce(function (rv, x) {\r\n            (rv[x[key]] = rv[x[key]] || []).push(x);\r\n            return rv;\r\n        }, {});\r\n    };\r\n\r\n\r\n    if (timeslots && roles.length !== 0 && timeslotCategories.length !== 0 && userInformation.user) {\r\n        const groupedTimeslots = groupBy(timeslots, \"timeslotCategorie\")\r\n        return (\r\n            <div>\r\n                <select onChange={onSelectSortChange} value={sortOption}>\r\n                    {sortOptions.map((option) => {\r\n                        return <option key={option.value} value={option.value}>{option.name}</option>\r\n                    })}\r\n                </select>\r\n                {errorCodeFormatting(timeslotStatus.errorCode, errorText, timeslotStatus.errorInfo)}\r\n                {\r\n                    Object.keys(groupBy(timeslots, \"timeslotCategorie\")).map((categorie) => {\r\n                        return <div key={categorie}>\r\n                            <h2>{checkTimeslotCategorie(timeslotCategories, categorie).title}</h2>\r\n                            <TimeslotCards timeslots={groupedTimeslots[categorie]} userRoles={userInformation.roles} categories={timeslotCategories} userId={userInformation.id} roleList={roles} sortingOption={sortOption} token={token} />\r\n                        </div>\r\n                    })\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n    return <div></div>\r\n}\r\n\r\nexport default TimeslotList","import React, { useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { getUserInformation } from \"../actions/user\"\r\nimport { Link } from 'react-router-dom';\r\nimport { checkRole} from \"../utils/checkRole\"\r\n\r\nimport \"../css/navbar.css\"\r\n\r\n\r\nfunction Navbar() {\r\n\r\n    const loginInformation = useSelector(state => state.login)\r\n\r\n\r\n    const userRoles = useSelector(state => state.user.roles)\r\n    const token = useSelector(state => state.login.token)\r\n    const dispatch = useDispatch()\r\n\r\n    const loginOrLogout = (loggedIn) =>{\r\n        return loggedIn ? <Link to=\"/logout\" className={\"navbar_link\"}>logout</Link> : <Link to=\"/login\" className={\"navbar_link\"}>login</Link>\r\n    }\r\n\r\n\r\n    const moderatorLink = (userRoles) => {\r\n        if(checkRole(userRoles, \"userModerator\")) {\r\n            return <li className={\"navbar_list_element\"}><Link to=\"/moderator\" className={\"navbar_link\"}>moderator</Link></li>\r\n        }\r\n    }\r\n\r\n    const timeslotLink = (userRoles) => {\r\n        if(checkRole(userRoles, \"createTimeslots\")) {\r\n            return <li className={\"navbar_list_element\"}><Link to=\"/timeslot/create\" className={\"navbar_link\"}>create Timeslot</Link></li>\r\n        }\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        if (token) {\r\n            dispatch(getUserInformation(token))\r\n        }\r\n    }, [dispatch, token])\r\n\r\n\r\n    //renders only if there is userinformation\r\n\r\n    return (\r\n        <ul className={\"navbar_list\"}>\r\n            <li className={\"navbar_list_element\"}><Link to=\"/\" className={\"navbar_link\"}>home </Link></li>\r\n            <li className={\"navbar_log_element\"}> {loginOrLogout(loginInformation.loggedIn)} </li>\r\n            {loginInformation.loggedIn? moderatorLink(userRoles) : \"\"}\r\n            {loginInformation.loggedIn? timeslotLink(userRoles) : \"\"}\r\n            {loginInformation.loggedIn? <li className={\"navbar_list_element\"}><Link to=\"/timeslot\" className={\"navbar_link\"}>timeslots</Link></li> : \"\"}\r\n        </ul>\r\n    )\r\n\r\n\r\n\r\n}\r\n\r\nexport default Navbar","import React, { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux'\nimport { setToken, noTokenStorage} from \"./actions/login\"\n\nimport {\n  BrowserRouter as Router,\n  Switch, Route, Redirect\n} from \"react-router-dom\"\n\n//components\nimport LoginForm from \"./components/LoginForm\"\nimport User from \"./components/Moderator.js\"\nimport Logout from \"./components/Logout\"\nimport TimeslotForm from './components/TimeslotForm';\nimport TimeslotList from './components/TimeslotList';\nimport UserInformation from './components/UserInformation';\nimport Navbar from './components/Navbar';\n\n\n\nfunction App() {\n  const dispatch = useDispatch()\n\n  useEffect(() => {\n    const token = localStorage.getItem(\"token\")\n    if (token) {\n      dispatch(setToken(token))\n    } else {\n      dispatch(noTokenStorage())\n    }\n\n  }, [dispatch])\n\n  const loginInformation = useSelector(state => state.login)\n\n  //if no login state is fetched show this\n  if (loginInformation.pending) {\n    return \"pending....\"\n  }\n\n  console.log(\"Production is \", process.env.NODE_ENV)\n\n  return (\n      <Router>\n\n        <Navbar></Navbar>\n\n\n        <Switch>\n          <Route path=\"/login\" render={() =>\n            loginInformation.loggedIn ? <Redirect to=\"/\" /> : <LoginForm />\n          } />\n\n          <Route path=\"/timeslot/create\" render={() =>\n            loginInformation.loggedIn ? <TimeslotForm /> : <Redirect to=\"/login\" />\n          } />\n\n          <Route path=\"/timeslot\" render={() =>\n            loginInformation.loggedIn ? <TimeslotList /> : <Redirect to=\"/login\" />\n          } />\n\n          <Route path=\"/moderator\" render={() =>\n            loginInformation.loggedIn ? <User /> : <Redirect to=\"/login\" />\n          } />\n          <Route path=\"/logout\">\n            <Logout />\n          </Route>\n          <Route path=\"/\" render={() =>\n            loginInformation.loggedIn ? <UserInformation /> : <Redirect to=\"/login\" />\n          } />\n        </Switch>\n\n\n      </Router>\n  );\n}\n\nexport default App;\n","const defaultState = {\r\n    loggedIn: false,\r\n    pending: true\r\n}\r\n\r\n\r\nconst loginReducer = (state = defaultState, action) => {\r\n    switch (action.type) {\r\n        case \"LOGIN\":\r\n            return {\r\n                token: action.data.token,\r\n                loggedIn: true,\r\n                pending: false\r\n            }\r\n        case \"NO_TOKEN\":\r\n            return {\r\n                loggedIn: false,\r\n                pending: false\r\n            }\r\n        case \"LOGOUT\":\r\n            return {\r\n                loggedIn: false,\r\n                error: false,\r\n                pending: false\r\n            }\r\n        case \"LOGIN_ERROR\":\r\n            console.log(action.data)\r\n            return {\r\n                loggedIn: false,\r\n                error: true,\r\n                errorCode: action.data.errorCode,\r\n                pending: false\r\n            }\r\n        case \"SERVER_ERROR\":\r\n            return {\r\n                loggedIn: false,\r\n                error: true,\r\n                errorMessage: \"The server may be down, try again later or try to contract the moderator.\",\r\n                pending: false\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default loginReducer","const roleReducer = (state = [], action) => {\r\n    switch(action.type) {\r\n        case \"ADD_ROLE\" :\r\n            return state.concat(action.data.role)\r\n        case \"ROLE_LIST\" :\r\n            return action.data.roles\r\n        default:\r\n            return state\r\n    }\r\n}\r\nexport default roleReducer","const defaultState = {\r\n    user: null,\r\n    role: []\r\n}\r\n\r\nconst userReducer = (state = defaultState, action) => {\r\n    switch(action.type) {\r\n        case \"USER_INFORMATION\":\r\n            const user = action.data.user\r\n\r\n            return {\r\n                user: {\r\n                    email: user.email,\r\n                    frontName: user.frontName,\r\n                    lastName: user.lastName,\r\n                    id: user.id\r\n                },\r\n                roles: user.roles\r\n            }\r\n        case \"LOGOUT\":\r\n            return {\r\n                user: null,\r\n                role: []\r\n            }\r\n        default: \r\n            return state\r\n    }\r\n}\r\n\r\nexport default userReducer","const moderatorReducer = (state = [], action) => {\r\n    switch(action.type) {\r\n        case \"USERS_LIST\" :\r\n            return action.data.userList\r\n        case \"ADD_USER\": \r\n            return state.concat(action.data.user)\r\n        case \"TOGGLE_ROLE\":\r\n            const newState = state.map(user => {\r\n                console.log(user.id, action.data.user.id) \r\n\r\n                if(user.id === action.data.user.id) {\r\n                    return action.data.user\r\n                }\r\n                return user\r\n            })\r\n            console.log(newState)\r\n            return newState\r\n        default:\r\n            return state\r\n    }\r\n}\r\nexport default moderatorReducer","\r\nconst defaultState = {\r\n    timeslots: [],\r\n    errorCode: \"\",\r\n    succes: false,\r\n    errorInfo: \"\"\r\n}\r\n\r\nconst timeslotReducer = (state = defaultState, action) => {\r\n    switch(action.type) {\r\n        case \"ADD_TIMESLOT\" :\r\n            return { \r\n                ...state,\r\n                timeslots: state.timeslots.concat(action.data.timeslot),\r\n                succes: true\r\n            }\r\n        case \"TIMESLOT_LIST\" :\r\n            return {\r\n                ...state,\r\n                timeslots: action.data.timeslots\r\n            }\r\n        case \"SUBSCRIBED_TIMESLOT\":\r\n            const newTimeslots = state.timeslots.map(timeslot => {\r\n                if(timeslot.id === action.data.timeslot.id) {\r\n                    return action.data.timeslot\r\n                }\r\n                return timeslot\r\n            })\r\n            return {\r\n                ...state,\r\n                timeslots: newTimeslots,\r\n                errorCode: \"\"\r\n            }\r\n        case \"DELETE_TIMESLOT\": \r\n            const newTimeslotsDeleted = state.timeslots.filter(timeslot => {\r\n                return timeslot.id !== action.data.timeslotId\r\n            })\r\n            return {\r\n                ...state,\r\n                timeslots: newTimeslotsDeleted,\r\n                errorCode: \"\"\r\n            }\r\n        case \"TIMESLOT_ERROR\":\r\n            return {\r\n                ...state,\r\n                errorCode: action.data.errorCode,\r\n                errorInfo: action.data.errorInfo\r\n            }\r\n        case \"RESET_SUCCES_TIMESLOT\" :\r\n            return {\r\n                ...state,\r\n                succes: false\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\nexport default timeslotReducer","\r\nconst defaultState = {\r\n    timeslotCategories: [],\r\n    errorCode: \"\",\r\n    succes: false\r\n}\r\n\r\nconst timeslotCategorieReducer = (state = defaultState, action) => {\r\n    switch(action.type) {\r\n        case \"ADD_TIMESLOT_CATEGORIE\" :\r\n            return { \r\n                ...state,\r\n                timeslotCategories: state.timeslotCategories.concat(action.data.timeslotCategorie),\r\n                succes: true\r\n            }            \r\n        case \"TIMESLOT_CATEGORIE_LIST\" :\r\n            return {\r\n                ...state,\r\n                timeslotCategories: action.data.timeslotCategories,\r\n            }\r\n\r\n        case \"TIMESLOT_CATEGORIE_ERROR\":\r\n            return {\r\n                ...state,\r\n                errorCode: action.data.errorCode\r\n            }\r\n        case \"RESET_SUCCES_TIMESLOT_CATEGORIE\" :\r\n            return {\r\n                ...state,\r\n                succes: true\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\nexport default timeslotCategorieReducer","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { Provider } from 'react-redux'\nimport thunk from 'redux-thunk'\n\n\nimport loginReducer from './reducers/login'\nimport roleReducer from './reducers/role';\nimport userReducer from \"./reducers/user\"\nimport moderatorReducer from './reducers/moderator';\n\nimport { createStore, combineReducers, applyMiddleware } from 'redux';\nimport timeslotReducer from './reducers/timeslot';\nimport timeslotCategorieReducer from './reducers/timeslotCategorie';\n\nconst store = createStore(combineReducers({\n  login: loginReducer,\n  roles: roleReducer,\n  user: userReducer,\n  moderator: moderatorReducer,\n  timeslot: timeslotReducer,\n  timeslotCategorie: timeslotCategorieReducer\n}),\n  applyMiddleware(thunk)\n)\n\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);"],"sourceRoot":""}