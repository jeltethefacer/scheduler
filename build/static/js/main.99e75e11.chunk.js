(this.webpackJsonpscheduler_front_end=this.webpackJsonpscheduler_front_end||[]).push([[0],{108:function(e,t,a){},109:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(16),o=a.n(c),u=a(2),l=a(6),s=a.n(l),i=a(11),m=a(70),p=a.n(m),E=function(e){return p.a.create({baseURL:"".concat(""),headers:{authorization:"bearer ".concat(e)}})},d=a(21),b=a(9),f=a(8),g=a(146),v=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(e&&""!==e)return r.a.createElement(g.a,{severity:"error"},t(e,a))};var O=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.login.errorCode})),a=Object(b.g)(),c=Object(n.useState)(""),o=Object(f.a)(c,2),l=o[0],m=o[1],p=Object(n.useState)(""),d=Object(f.a)(p,2),g=d[0],O=d[1];return r.a.createElement("div",null,v(t,(function(e){switch(e){case"INVALID_EMAIL_OR_PASS":return"The email or password appear to be incorrect.";default:return""}})),r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e(function(e,t){return function(){var a=Object(i.a)(s.a.mark((function a(n){var r,c;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,E().post("/api/user/login",{email:e,password:t});case 3:r=a.sent,c=r.data,localStorage.setItem("token",c.token),n({type:"LOGIN",data:{email:c.email,token:c.token}}),a.next=18;break;case 9:a.prev=9,a.t0=a.catch(0),a.t1=a.t0.response.status,a.next=401===a.t1?14:16;break;case 14:return n({type:"LOGIN_ERROR",data:{errorCode:a.t0.response.data.errorCode}}),a.abrupt("break",18);case 16:return n({type:"SERVER_ERROR"}),a.abrupt("break",18);case 18:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()}(l,g)),a.push("/"),O(""),m("")}},"email: ",r.a.createElement("input",{type:"email",value:l,onChange:function(e){m(e.target.value)}})," ",r.a.createElement("br",null),"password: ",r.a.createElement("input",{type:"password",value:g,onChange:function(e){O(e.target.value)}}),r.a.createElement("br",null),r.a.createElement("input",{type:"submit"})))},R=function(e){return function(){var t=Object(i.a)(s.a.mark((function t(a){var n,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E(e).get("/api/user");case 3:n=t.sent,r=n.data,a({type:"USER_INFORMATION",data:{user:r}}),t.next=18;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0.response.status),t.t1=t.t0.response.status,t.next=401===t.t1?14:16;break;case 14:return a({type:"INVALID_TOKEN"}),t.abrupt("break",18);case 16:return a({type:"SERVER_ERROR"}),t.abrupt("break",18);case 18:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},h=function(e){var t=e.userInformation,a=t.user,n=t.roles;return t?r.a.createElement("div",null,"Email: ",a.email,r.a.createElement("hr",null),"Hallo ",a.frontName," ",a.lastName,",",r.a.createElement("br",null),"je rollen zijn",n?function(e){var t=e.map((function(e){return r.a.createElement("li",{key:e.id},e.abreviation," (",e.description,")")}));return r.a.createElement("ul",null,t)}(n):" loading"):r.a.createElement("div",null,"Loading....")},T=function(){return function(){var e=Object(i.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E().get("/api/role");case 3:a=e.sent,n=a.data,t({type:"ROLE_LIST",data:{roles:n}}),e.next=18;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.response.status),e.t1=e.t0.response.status,e.next=401===e.t1?14:16;break;case 14:return t({type:"INVALID_TOKEN"}),e.abrupt("break",18);case 16:return t({type:"SERVER_ERROR"}),e.abrupt("break",18);case 18:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},_=(a(48),a(128)),j=a(129),y=a(130),k=a(131),I=a(132),C=a(133);var S=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.moderator})),a=Object(u.c)((function(e){return e.login.token})),c=Object(u.c)((function(e){return e.roles}));Object(n.useEffect)((function(){a&&(e(function(e){return function(){var t=Object(i.a)(s.a.mark((function t(a){var n,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E(e).get("".concat("/api/moderator","/users"));case 3:n=t.sent,r=n.data,a({type:"USERS_LIST",data:{userList:r}}),t.next=18;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0.response.status),t.t1=t.t0.response.status,t.next=401===t.t1?14:16;break;case 14:return a({type:"INVALID_TOKEN"}),t.abrupt("break",18);case 16:return a({type:"SERVER_ERROR"}),t.abrupt("break",18);case 18:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(a)),e(T()))}),[e,a]);var o=function(e,t){return e.filter((function(e){return e.id===t}))[0]};return t&&c?r.a.createElement("div",null,r.a.createElement(_.a,null,r.a.createElement(j.a,null,r.a.createElement(y.a,null,r.a.createElement(k.a,null,r.a.createElement(I.a,null,"front name"),r.a.createElement(I.a,null,"Last name"),r.a.createElement(I.a,null,"Email"),r.a.createElement(I.a,null,"ID"),r.a.createElement(I.a,null,"roles"),r.a.createElement(I.a,null,"delete user"),r.a.createElement(I.a,null,"change the user roles"),r.a.createElement(I.a,null,"is voorzitter van"),r.a.createElement(I.a,null))),r.a.createElement(C.a,null,t.map((function(t){return r.a.createElement(k.a,{key:t.id},r.a.createElement(I.a,null,t.frontName),r.a.createElement(I.a,null,t.lastName),r.a.createElement(I.a,null,t.email),r.a.createElement(I.a,null,t.id),r.a.createElement(I.a,null,t.roles.map((function(e){return r.a.createElement("div",{key:e},o(c,e).abreviation)}))),r.a.createElement(I.a,null,r.a.createElement("button",{onClick:function(){return e(function(e,t){return function(){var a=Object(i.a)(s.a.mark((function a(n){return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,E(e).post("".concat("/api/moderator","/deleteUser"),{userId:t});case 3:n({type:"DELETE_USER_SUCCES"}),a.next=18;break;case 6:a.prev=6,a.t0=a.catch(0),console.log(a.t0.response.data),a.t1=a.t0.response.status,a.next=400===a.t1?12:401===a.t1?14:16;break;case 12:return n({type:"VALIDATION_ERROR_ADD_USER",data:a.t0.response.data}),a.abrupt("break",18);case 14:return n({type:"INVALID_TOKEN"}),a.abrupt("break",18);case 16:return n({type:"SERVER_ERROR"}),a.abrupt("break",18);case 18:case"end":return a.stop()}}),a,null,[[0,6]])})));return function(e){return a.apply(this,arguments)}}()}(a,t.id))}},"Delete User")),r.a.createElement(I.a,null,r.a.createElement("div",{className:"dropdown"},r.a.createElement("button",{className:"dropbtn"},"Dropdown"),r.a.createElement("div",{className:"dropdown-content"},c.map((function(n){return r.a.createElement("button",{key:n.id,onClick:function(){return e(function(e,t,a){return function(){var n=Object(i.a)(s.a.mark((function n(r){var c,o,u;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("lamo"),n.prev=1,n.next=4,E(e).post("".concat("/api/moderator","/toggleRole"),{roleId:t,userId:a});case 4:c=n.sent,o=c.data.role,u=c.data.user,console.log("addRole",c.data),r({type:"TOGGLE_ROLE",data:{user:u,role:o}}),n.next=26;break;case 11:if(n.prev=11,n.t0=n.catch(1),console.log(n.t0),n.t0.response){n.next=17;break}return r({type:"WEIRD_ERROR"}),n.abrupt("return");case 17:n.t1=n.t0.response.status,n.next=400===n.t1?20:401===n.t1?22:24;break;case 20:return r({type:"VALIDATION_ERROR_ADD_ROLE",data:n.t0.response.data}),n.abrupt("break",26);case 22:return r({type:"INVALID_TOKEN"}),n.abrupt("break",26);case 24:return r({type:"SERVER_ERROR"}),n.abrupt("break",26);case 26:case"end":return n.stop()}}),n,null,[[1,11]])})));return function(e){return n.apply(this,arguments)}}()}(a,n.id,t.id))}},n.abreviation)}))))),r.a.createElement(I.a,null,t.chairman.map((function(e){return r.a.createElement("div",{key:e},o(c,e).abreviation)}))),r.a.createElement(I.a,null,r.a.createElement("div",{className:"dropdown"},r.a.createElement("button",{className:"dropbtn"},"Dropdown"),r.a.createElement("div",{className:"dropdown-content"},c.map((function(n){return r.a.createElement("button",{key:n.id,onClick:function(){return e(function(e,t,a){return function(){var n=Object(i.a)(s.a.mark((function n(r){var c,o;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,E(e).post("".concat("/api/moderator","/toggleChairman"),{roleId:t,userId:a});case 3:c=n.sent,o=c.data,r({type:"TOGGLE_CHAIRMAN",data:{user:o}}),n.next=23;break;case 8:if(n.prev=8,n.t0=n.catch(0),console.log(n.t0),n.t0.response){n.next=14;break}return r({type:"WEIRD_ERROR"}),n.abrupt("return");case 14:n.t1=n.t0.response.status,n.next=400===n.t1?17:401===n.t1?19:21;break;case 17:return r({type:"TOGGLE_CHAIRMAN_ERROR",data:{erroCode:n.t0.response.data.errorCode}}),n.abrupt("break",23);case 19:return r({type:"INVALID_TOKEN"}),n.abrupt("break",23);case 21:return r({type:"SERVER_ERROR"}),n.abrupt("break",23);case 23:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()}(a,n.id,t.id))}},n.abreviation)}))))))})))))):r.a.createElement("div",null)},L=function(e){return function(){var t=Object(i.a)(s.a.mark((function t(a){var n,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E(e).get("/api/timeslotCategorie");case 3:n=t.sent,r=n.data,a({type:"TIMESLOT_CATEGORIE_LIST",data:{timeslotCategories:r}}),t.next=18;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0.response.data),t.t1=t.t0.response.status,t.next=400===t.t1||401===t.t1?14:16;break;case 14:return a({type:"TIMESLOT_CATEGORIE_ERROR",data:{errorCode:t.t0.response.data.errorCode}}),t.abrupt("break",18);case 16:return a({type:"SERVER_ERROR"}),t.abrupt("break",18);case 18:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()};var D=function(e){var t=Object(u.b)(),a=Object(b.g)(),c=Object(u.c)((function(e){return e.timeslotCategorie})),o=Object(u.c)((function(e){return e.login.token})),l=e.match?e.match.params.timeslotCategorieId:void 0;Object(n.useEffect)((function(){l&&(t(function(e,t){return function(){var a=Object(i.a)(s.a.mark((function a(n){var r,c;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,E(e).get("".concat("/api/timeslotCategorie","/").concat(t));case 3:r=a.sent,c=r.data.timeslotCategorie,n({type:"FETCH_ONE_TIMESLOT_CATEGORIE",data:{timeslotCategorie:c}}),a.next=20;break;case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0.response.data),a.t1=a.t0.response.status,a.next=400===a.t1?14:401===a.t1?16:18;break;case 14:return n({type:"TIMESLOT_CATEGORIE_ERROR",data:{errorCode:a.t0.response.data.errorCode}}),a.abrupt("break",20);case 16:return n({type:"TIMESLOT_CATEGORIE_VALIDATION_ERROR"}),a.abrupt("break",20);case 18:return n({type:"SERVER_ERROR"}),a.abrupt("break",20);case 20:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()}(o,l)),h(!0))}),[o,l,t]);var m="",p=24,d=0,g=Object(n.useState)(!1),O=Object(f.a)(g,2),R=O[0],h=O[1],T=Object(n.useState)(m),_=Object(f.a)(T,2),j=_[0],y=_[1],k=Object(n.useState)(p),I=Object(f.a)(k,2),C=I[0],S=I[1],L=Object(n.useState)(d),D=Object(f.a)(L,2),N=D[0],x=D[1];return R&&l&&c.timeslotCategorie&&c.timeslotCategorie.id===l&&(y(c.timeslotCategorie.title),S(c.timeslotCategorie.cancelLength),x(c.timeslotCategorie.subscribeLength),h(!1)),c.succes&&(t({type:"RESET_SUCCES_TIMESLOT_CATEGORIE"}),a.push("/moderator")),r.a.createElement("div",null,r.a.createElement("h2",null,"Add timelslotCategorie"),v(c.errorCode,(function(e){switch(e){case"TITLE_LENGTH_ERROR":return"The title should atleast be 3 charactert long";case"TIME_ERROR":return"cancel lenght cannot be greater than the subscribe time";case"SAVE_ERROR":return"The title should be longer than 3 characters";case"NOT_AUTHORIZED":return"You do not have the right role to edit timeslotcategories";default:return""}})),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),l?t(function(e,t,a,n,r){return function(){var c=Object(i.a)(s.a.mark((function c(o){var u,l;return s.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,E(e).post("".concat("/api/timeslotCategorie","/change"),{timeslotCategorieId:t,title:a,cancelLength:n,subscribeLength:r});case 3:u=c.sent,l=u.data.timeslotCategorie,o({type:"CHANGE_TIMESLOT_CATEGORIE",data:{timeslotCategorie:l}}),c.next=17;break;case 8:c.prev=8,c.t0=c.catch(0),c.t1=c.t0.response.status,c.next=401===c.t1||400===c.t1?13:15;break;case 13:return o({type:"TIMESLOT_CATEGORIE_ERROR",data:{errorCode:c.t0.response.data.errorCode}}),c.abrupt("break",17);case 15:return o({type:"SERVER_ERROR"}),c.abrupt("break",17);case 17:case"end":return c.stop()}}),c,null,[[0,8]])})));return function(e){return c.apply(this,arguments)}}()}(o,l,j,C,N)):(t(function(e,t,a,n){return function(){var r=Object(i.a)(s.a.mark((function r(c){var o,u;return s.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,E(e).post("".concat("/api/timeslotCategorie"),{title:t,cancelLength:a,subscribeLength:n});case 3:o=r.sent,u=o.data,c({type:"ADD_TIMESLOT_CATEGORIE",data:{timeslotCategorie:u}}),r.next=20;break;case 8:r.prev=8,r.t0=r.catch(0),console.log(r.t0.response.data),r.t1=r.t0.response.status,r.next=400===r.t1?14:401===r.t1?16:18;break;case 14:return c({type:"TIMESLOT_CATEGORIE_ERROR",data:{errorCode:r.t0.response.data.errorCode}}),r.abrupt("break",20);case 16:return c({type:"TIMESLOT_CATEGORIE_VALIDATION_ERROR"}),r.abrupt("break",20);case 18:return c({type:"SERVER_ERROR"}),r.abrupt("break",20);case 20:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(e){return r.apply(this,arguments)}}()}(o,j,C,N)),y(""),S(24))}},"title: ",r.a.createElement("input",{type:"text",value:j,onChange:function(e){y(e.target.value)}})," ",r.a.createElement("br",null),"cancle length (hours): ",r.a.createElement("input",{type:"number",min:0,value:C,onChange:function(e){""!==e.target.value?S(Number(e.target.value)):S("")}}),r.a.createElement("br",null),"subscribe length(hours): ",r.a.createElement("input",{type:"number",min:0,value:N,onChange:function(e){""!==e.target.value?x(Number(e.target.value)):x("")}}),r.a.createElement("br",null),r.a.createElement("input",{type:"submit"})))};var N=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.login.token})),a=Object(n.useState)(""),c=Object(f.a)(a,2),o=c[0],l=c[1],m=Object(n.useState)(""),p=Object(f.a)(m,2),d=p[0],b=p[1],g=Object(n.useState)(""),v=Object(f.a)(g,2),O=v[0],R=v[1];return r.a.createElement("div",null,r.a.createElement("h2",null,"Add user"),r.a.createElement("form",{onSubmit:function(a){a.preventDefault(),e(function(e,t,a,n){return function(){var r=Object(i.a)(s.a.mark((function r(c){var o,u;return s.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,E(e).post("".concat("/api/moderator","/addUser"),{email:t,frontName:a,lastName:n});case 3:o=r.sent,u=o.data,c({type:"ADD_USER",data:{user:u}}),r.next=20;break;case 8:r.prev=8,r.t0=r.catch(0),console.log(r.t0.response.data),r.t1=r.t0.response.status,r.next=400===r.t1?14:401===r.t1?16:18;break;case 14:return c({type:"VALIDATION_ERROR_ADD_USER",data:r.t0.response.data}),r.abrupt("break",20);case 16:return c({type:"INVALID_TOKEN"}),r.abrupt("break",20);case 18:return c({type:"SERVER_ERROR"}),r.abrupt("break",20);case 20:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(e){return r.apply(this,arguments)}}()}(t,o,d,O)),b(""),R(""),l("")}},"email: ",r.a.createElement("input",{type:"email",value:o,onChange:function(e){l(e.target.value)}})," ",r.a.createElement("br",null),"front name: ",r.a.createElement("input",{type:"text",value:d,onChange:function(e){b(e.target.value)}}),r.a.createElement("br",null),"last name  ",r.a.createElement("input",{type:"text",value:O,onChange:function(e){R(e.target.value)}}),r.a.createElement("br",null),r.a.createElement("input",{type:"submit"})))};var x=function(){var e=Object(u.b)(),t=Object(b.g)(),a=Object(u.c)((function(e){return e.login.token})),c=Object(u.c)((function(e){return e.roles}));return Object(n.useEffect)((function(){a&&e(T())}),[e,a]),c?r.a.createElement("div",null,function(e){return r.a.createElement(_.a,null,r.a.createElement(j.a,null,r.a.createElement(y.a,null,r.a.createElement(k.a,null,r.a.createElement(I.a,null,"ID"),r.a.createElement(I.a,null,"abreviation"),r.a.createElement(I.a,null,"description"))),r.a.createElement(C.a,null,e.map((function(e){return r.a.createElement(k.a,{key:e.id,onDoubleClick:function(){return a=e.id,void t.push("/role/edit/".concat(a));var a}},r.a.createElement(I.a,null,e.id),r.a.createElement(I.a,null,e.abreviation),r.a.createElement(I.a,null,e.description))})))))}(c)):r.a.createElement("div",null)},w=a(112);var A=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.login.token})),a=Object(n.useState)(""),c=Object(f.a)(a,2),o=c[0],l=c[1],m=Object(n.useState)(""),p=Object(f.a)(m,2),d=p[0],b=p[1];return r.a.createElement("div",null,r.a.createElement("h2",null,"Add a role"),r.a.createElement("form",{onSubmit:function(a){a.preventDefault(),e(function(e,t,a){return function(){var n=Object(i.a)(s.a.mark((function n(r){var c,o;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,E(e).post("".concat("/api/moderator","/addRole"),{abreviation:t,description:a});case 3:c=n.sent,o=c.data,console.log("addRole",o),r({type:"ADD_ROLE",data:{role:o}}),n.next=20;break;case 9:n.prev=9,n.t0=n.catch(0),n.t1=n.t0.response.status,n.next=400===n.t1?14:401===n.t1?16:18;break;case 14:return r({type:"VALIDATION_ERROR_ADD_ROLE",data:n.t0.response.data}),n.abrupt("break",20);case 16:return r({type:"INVALID_TOKEN"}),n.abrupt("break",20);case 18:return r({type:"SERVER_ERROR"}),n.abrupt("break",20);case 20:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()}(t,o,d)),l(""),b("")}},"abreviation: ",r.a.createElement("input",{type:"text",value:o,onChange:function(e){l(e.target.value)}})," ",r.a.createElement("br",null),"description: ",r.a.createElement("input",{type:"text",value:d,onChange:function(e){b(e.target.value)}}),r.a.createElement("br",null),r.a.createElement(w.a,{type:"submit",variant:"contained",color:"primary"},"Submit")))};var M=function(){var e=Object(u.b)(),t=Object(b.g)(),a=Object(u.c)((function(e){return e.login.token})),c=Object(u.c)((function(e){return e.timeslotCategorie.timeslotCategories}));return Object(n.useEffect)((function(){a&&e(L())}),[e,a]),c?r.a.createElement("div",null,function(e){return r.a.createElement(_.a,null,r.a.createElement(j.a,null,r.a.createElement(y.a,null,r.a.createElement(k.a,null,r.a.createElement(I.a,null,"ID"),r.a.createElement(I.a,null,"title"),r.a.createElement(I.a,null,"cancel length (hours)"),r.a.createElement(I.a,null,"subscribe Length (hours)"))),r.a.createElement(C.a,null,e.map((function(e){return r.a.createElement(k.a,{key:e.id,onDoubleClick:function(){return a=e.id,void t.push("timeslotcategorie/edit/".concat(a));var a}},r.a.createElement(I.a,null,e.id),r.a.createElement(I.a,null,e.title),r.a.createElement(I.a,null,e.cancelLength),r.a.createElement(I.a,null,e.subscribeLength))})))))}(c)):r.a.createElement("div",null)},G=a(145),V=a(134),U=a(135),H=a(36),K=a.n(H);var F=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.login.token})),a=Object(u.c)((function(e){return e.user}));return Object(n.useEffect)((function(){e(R(t))}),[e,t]),a.user?r.a.createElement("div",null,r.a.createElement(h,{userInformation:a}),r.a.createElement(G.a,null,r.a.createElement(V.a,{id:"user_panel",expandIcon:r.a.createElement(K.a,null)},"Users"),r.a.createElement(U.a,null,r.a.createElement("div",null,r.a.createElement(S,null),r.a.createElement(N,null)))),r.a.createElement(G.a,null,r.a.createElement(V.a,{id:"roles_panel",expandIcon:r.a.createElement(K.a,null)},"Roles"),r.a.createElement(U.a,null,r.a.createElement("div",null,r.a.createElement(x,null),r.a.createElement(A,null)))),r.a.createElement(G.a,null,r.a.createElement(V.a,{id:"timeslot_categories_panel",expandIcon:r.a.createElement(K.a,null)},"Timeslot categories"),r.a.createElement(U.a,null,r.a.createElement("div",null,r.a.createElement(M,null),r.a.createElement(D,null))))):r.a.createElement("div",null)};var Y=function(){var e=Object(u.b)(),t=Object(b.g)();return Object(n.useEffect)((function(){e((localStorage.clear(),{type:"LOGOUT"})),t.push("/")}),[e,t]),r.a.createElement("div",null,"logout")},J=function(e,t,a,n,r,c,o){return function(){var u=Object(i.a)(s.a.mark((function u(l){var i,m;return s.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,E(e).post("".concat("/api/timeslot"),{description:t,startTime:a,endTime:n,maxPeople:r,roles:c,timeslotCategorie:o});case 3:i=u.sent,m=i.data,setTimeout((function(){l({type:"RESET_SUCCES_TIMESLOT"})}),5e3),l({type:"ADD_TIMESLOT",data:{timeslot:m}}),u.next=21;break;case 9:u.prev=9,u.t0=u.catch(0),console.log(u.t0.response),u.t1=u.t0.response.status,u.next=400===u.t1?15:401===u.t1?17:19;break;case 15:return l({type:"TIMESLOT_ERROR",data:{errorCode:u.t0.response.data.errorCode,errorInfo:u.t0.response.data.errorInfo}}),u.abrupt("break",21);case 17:return l({type:"TIMESLOT_ERROR",data:{errorCode:u.t0.response.data.errorCode}}),u.abrupt("break",21);case 19:return l({type:"SERVER_ERROR"}),u.abrupt("break",21);case 21:case"end":return u.stop()}}),u,null,[[0,9]])})));return function(e){return u.apply(this,arguments)}}()};function B(e){return e<10?"0"+e:e}var z=function(e,t){var a=["January","February","March","April","May","June","July","August","September","October","November","December"];return P(e)===P(t)?"".concat(B(e.getHours()),":").concat(B(e.getMinutes()),"-").concat(B(t.getHours()),":").concat(B(t.getMinutes())," ").concat(a[e.getMonth()],", ").concat(e.getDate()," ").concat(e.getFullYear()):e.getFullYear()===t.getFullYear()?"".concat(a[e.getMonth()],", ").concat(e.getDate()," ").concat(B(e.getHours()),":").concat(B(e.getMinutes()),"-").concat(a[t.getMonth()],", ").concat(t.getDate()," ").concat(B(t.getHours()),":").concat(B(t.getMinutes())):"".concat(a[e.getMonth()],", ").concat(e.getDate()," ").concat(e.getFullYear(),", ").concat(B(e.getHours()),":").concat(B(e.getMinutes()),"-").concat(a[t.getMonth()],", ").concat(t.getDate()," ").concat(t.getFullYear(),", ").concat(B(t.getHours()),":").concat(B(t.getMinutes()))},P=function(e){return"".concat(e.getFullYear(),"-").concat(B(e.getMonth()+1),"-").concat(B(e.getDate()))},Z=function(e){return"".concat(B(e.getHours()),":").concat(B(e.getMinutes()))},W=function(e,t){for(var a in e)if(e[a].abreviation===t)return!0;return!1},q=function(e,t){for(var a in e)if(e[a].id===t)return e[a];return null};var Q=function(){var e=Object(u.c)((function(e){return e.login.token})),t=Object(u.c)((function(e){return e.roles})),a=Object(u.c)((function(e){return e.user.roles})),c=Object(u.c)((function(e){return e.user.user})),o=Object(u.c)((function(e){return e.timeslotCategorie.timeslotCategories})),l=Object(u.c)((function(e){return e.timeslot.errorCode})),s=Object(u.c)((function(e){return e.timeslot.succes})),i=Object(n.useState)(""),m=Object(f.a)(i,2),p=m[0],E=m[1],d=Object(n.useState)(new Date),b=Object(f.a)(d,2),O=b[0],h=b[1],_=Object(n.useState)(new Date),j=Object(f.a)(_,2),y=j[0],k=j[1],I=Object(n.useState)(1),C=Object(f.a)(I,2),S=C[0],D=C[1],N=Object(n.useState)([]),x=Object(f.a)(N,2),w=x[0],A=x[1],M=Object(n.useState)(""),G=Object(f.a)(M,2),V=G[0],U=G[1],H=Object(u.b)();Object(n.useEffect)((function(){H(T()),H(L(e)),H(R(e))}),[H,e]);var K=P(O),F=Z(O),Y=P(y),B=Z(y),z=t.map((function(e){return e.id}));return W(a,"createTimeslot")||(z=c?c.chairman:[]),0!==t.length&&0!==o?r.a.createElement("div",null,v(l,(function(e){switch(e){case"NOT_AUTHORIZED":return"You are not not authorized to create timeslot";case"NO_ROLES_ERROR":return"You have not selected any roles for the timeslot please select one";case"START_GREATER_END_TIME_ERROR":return"The start time is earlier than the end time.";default:return""}})),function(e){if(e)return r.a.createElement(g.a,{severity:"success"},"This is a success alert \u2014 check it out!")}(s),r.a.createElement("form",{onSubmit:function(t){console.log(O),H(J(e,p,O,y,S,w,""!==V||V?V:o[0].id)),t.preventDefault()}},"description: ",r.a.createElement("input",{type:"text",value:p,onChange:function(e){E(e.target.value)}})," ",r.a.createElement("br",null),"startTime date: ",r.a.createElement("input",{type:"date",value:K,onChange:function(e){var t=e.target.value.split("-"),a=new Date(O.getTime());""!==e.target.value&&(a.setFullYear(t[0]),a.setMonth(t[1]-1),a.setDate(t[2]),a>=new Date(y.getTime())&&k(a),h(a))}}),"startTime time: ",r.a.createElement("input",{type:"time",value:F,onChange:function(e){var t=e.target.value.split(":"),a=new Date(O.getTime());""!==e.target.value&&(a.setHours(t[0]),a.setMinutes(t[1]),a.setSeconds(0),a>=new Date(y.getTime())&&k(a),h(a))}}),r.a.createElement("br",null),"endTime date: ",r.a.createElement("input",{type:"date",value:Y,onChange:function(e){var t=e.target.value.split("-"),a=new Date(y.getTime());""!==e.target.value&&(a.setFullYear(t[0]),a.setMonth(t[1]-1),a.setDate(t[2]),k(a))}}),"endTime time: ",r.a.createElement("input",{type:"time",value:B,onChange:function(e){var t=e.target.value.split(":"),a=new Date(y.getTime());""!==e.target.value&&(a.setHours(t[0]),a.setMinutes(t[1]),a.setSeconds(0),k(a))}}),r.a.createElement("br",null),"maxPeople: ",r.a.createElement("input",{type:"number",value:S,onChange:function(e){D(e.target.value)}}),r.a.createElement("br",null),r.a.createElement("select",{value:w,onChange:function(e){var t=e.target.value;w.includes(t)?(console.log("lmao"),A(w.filter((function(e){return e!==t})))):A(w.concat(e.target.value))},multiple:!0},z.map((function(e){var a;return a=e,e=t.filter((function(e){return e.id===a}))[0],r.a.createElement("option",{key:e.id,value:e.id},e.abreviation,": ",e.description)}))),r.a.createElement("select",{value:V,onChange:function(e){U(e.target.value)}},o.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.title," minimum cancel times (hours): ",e.cancelLength)}))),r.a.createElement("input",{type:"submit"}))):r.a.createElement("div",null,"loading roles")},X=a(137),$=a(138),ee=a(139),te=a(140),ae=a(25),ne=a(141),re=a(147),ce=a(142),oe=a(143),ue=a(144),le=a(136);var se=function(e){var t=e.timeslots,a=e.userRoles,n=e.categories,c=e.userId,o=e.roleList,l=e.sortingOption,m=e.token,p=Object(u.b)(),d=Object(le.a)((function(e){return{root:{width:400,height:200}}}))(),b=function(e,t){switch(t){case"startTime":return e.sort((function(e,t){return new Date(e.startTime)-new Date(t.startTime)}));case"endTime":return e.sort((function(e,t){return new Date(e.endTime)-new Date(t.endTime)}));case"usersRising":return e.sort((function(e,t){return e.subscribed.length-t.subscribed.length}));case"usersDecreasing":return e.sort((function(e,t){return t.subscribed.length-e.subscribed.length}));default:return e.sort((function(e,t){return new Date(e.startTime)-new Date(t.startTime)}))}}(t,l);return r.a.createElement(X.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center"},b.map((function(e){var t=new Date(e.startTime),u=new Date(e.endTime);return r.a.createElement($.a,{key:e.id},r.a.createElement(ee.a,{title:z(t,u),subheader:q(n,e.timeslotCategorie).title,className:d.root}),r.a.createElement(te.a,null,r.a.createElement(X.a,{container:!0,spacing:2},r.a.createElement(X.a,{item:!0,xs:12,md:6},r.a.createElement(ae.a,{variant:"h6",className:d.title},"Roles"),r.a.createElement(ne.a,{dense:!0},e.roles.map((function(e){var t=function(e,t){return e.filter((function(e){return e.id===t}))[0]}(o,e);return r.a.createElement(re.a,{key:e},r.a.createElement(ce.a,{primary:t.abreviation}))})))),r.a.createElement(X.a,{item:!0,xs:12,md:6},r.a.createElement(ae.a,{variant:"h6",className:d.title},"Users"),r.a.createElement(ne.a,{dense:!0},e.subscribed.map((function(e){return r.a.createElement(re.a,{key:e},r.a.createElement(ce.a,{primary:e}))}))))),r.a.createElement(ae.a,{variant:"body2",color:"textSecondary",component:"p"},"".concat(e.subscribed.length,"/").concat(e.maxPeople),r.a.createElement("br",null))),r.a.createElement(oe.a,null,r.a.createElement(ue.a,null,e.subscribed.includes(c)?r.a.createElement(w.a,{onDoubleClick:function(){return p(function(e,t){return function(){var a=Object(i.a)(s.a.mark((function a(n){var r,c;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,E(e).post("".concat("/api/timeslot","/unsubscribe"),{timeslotId:t});case 3:r=a.sent,c=r.data,n({type:"SUBSCRIBED_TIMESLOT",data:{timeslot:c}}),a.next=20;break;case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0),a.t1=a.t0.response.status,a.next=400===a.t1?14:401===a.t1?16:18;break;case 14:return n({type:"TIMESLOT_ERROR",data:a.t0.response.data}),a.abrupt("break",20);case 16:return n({type:"INVALID_TOKEN"}),a.abrupt("break",20);case 18:return n({type:"SERVER_ERROR"}),a.abrupt("break",20);case 20:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()}(m,e.id))},color:"secondary"},"unSubscribe"):r.a.createElement(w.a,{onDoubleClick:function(){return p(function(e,t){return function(){var a=Object(i.a)(s.a.mark((function a(n){var r,c;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,E(e).post("".concat("/api/timeslot","/subscribe"),{timeslotId:t});case 3:r=a.sent,c=r.data,n({type:"SUBSCRIBED_TIMESLOT",data:{timeslot:c}}),a.next=20;break;case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0.response.data),a.t1=a.t0.response.status,a.next=400===a.t1?14:401===a.t1?16:18;break;case 14:return n({type:"TIMESLOT_ERROR",data:a.t0.response.data}),a.abrupt("break",20);case 16:return n({type:"INVALID_TOKEN"}),a.abrupt("break",20);case 18:return n({type:"SERVER_ERROR"}),a.abrupt("break",20);case 20:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()}(m,e.id))},color:"primary"},"Meld mij aan"),W(a,"createTimeslot")?r.a.createElement(w.a,{onDoubleClick:function(){return p(function(e,t){return function(){var a=Object(i.a)(s.a.mark((function a(n){return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,E(e).post("".concat("/api/timeslot","/delete"),{timeslotId:t});case 3:n({type:"DELETE_TIMESLOT",data:{timeslotId:t}}),a.next=18;break;case 6:a.prev=6,a.t0=a.catch(0),console.log(a.t0),a.t1=a.t0.response.status,a.next=400===a.t1?12:401===a.t1?14:16;break;case 12:return n({type:"TIMESLOT_ERROR",data:a.t0.response.data}),a.abrupt("break",18);case 14:return n({type:"INVALID_TOKEN"}),a.abrupt("break",18);case 16:return n({type:"SERVER_ERROR"}),a.abrupt("break",18);case 18:case"end":return a.stop()}}),a,null,[[0,6]])})));return function(e){return a.apply(this,arguments)}}()}(m,e.id))},color:"secondary"},"delete"):"")))})))};var ie=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.timeslot.timeslots})),a=Object(u.c)((function(e){return e.roles})),c=Object(u.c)((function(e){return e.user})),o=Object(u.c)((function(e){return e.timeslotCategorie.timeslotCategories})),l=Object(u.c)((function(e){return e.timeslot})),m=Object(u.c)((function(e){return e.login.token}));Object(n.useEffect)((function(){m&&(e(function(e){return function(){var t=Object(i.a)(s.a.mark((function t(a){var n,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E(e).get("/api/timeslot");case 3:n=t.sent,r=n.data,a({type:"TIMESLOT_LIST",data:{timeslots:r}}),t.next=20;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0.response.data),t.t1=t.t0.response.status,t.next=400===t.t1?14:401===t.t1?16:18;break;case 14:return a({type:"VALIDATION_ERROR_TIMESLOT",data:t.t0.response.data}),t.abrupt("break",20);case 16:return a({type:"INVALID_TOKEN"}),t.abrupt("break",20);case 18:return a({type:"SERVER_ERROR"}),t.abrupt("break",20);case 20:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(m)),e(T()),e(R(m)),e(L(m)))}),[e,m]);var p=[{value:"startTime",name:"start tijd"},{value:"endTime",name:"eind tijd"},{value:"usersRising",name:"hoeveelheid aangemeld stijdend"},{value:"usersDecreasing",name:"hoeveelheid aangemeld dalend"}],d=Object(n.useState)(p[0].value),b=Object(f.a)(d,2),g=b[0],O=b[1],h=function(e,t){return e.reduce((function(e,a){return(e[a[t]]=e[a[t]]||[]).push(a),e}),{})};if(t&&0!==a.length&&0!==o.length&&c.user){var _=h(t,"timeslotCategorie");return r.a.createElement("div",null,r.a.createElement("select",{onChange:function(e){O(e.target.value)},value:g},p.map((function(e){return r.a.createElement("option",{key:e.value,value:e.value},e.name)}))),v(l.errorCode,(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";switch(e){case"TIMESLOT_FULL":return"time slot full please fuck off";case"NO_VALID_ROLE":return"you do not have the required role to subscribe to this timeslot please contact the moderator if you think this is an error.";case"TIME_ERROR":return"The time to cancel your appointment has sadly passed contact the COMBAR in case you really can't tap you need to cancel atleast ".concat(t," hours in advance");default:return r.a.createElement("div",null)}}),l.errorInfo),Object.keys(h(t,"timeslotCategorie")).map((function(e){return r.a.createElement(G.a,{key:e},r.a.createElement(V.a,{id:"".concat(e,"_panel"),expandIcon:r.a.createElement(K.a,null)},r.a.createElement(ae.a,{variant:"h5",component:"h2"},q(o,e).title)),r.a.createElement(U.a,null,r.a.createElement(se,{timeslots:_[e],userRoles:c.roles,categories:o,userId:c.user.id,roleList:a,sortingOption:g,token:m})))})))}return r.a.createElement("div",null)},me=function(e){return{type:"CHANGE_LANGUAGE",data:{language:e}}};a(108);var pe=function(){var e=Object(u.c)((function(e){return e.login})),t=Object(n.useContext)(fe),a=Object(u.c)((function(e){return e.user.roles})),c=Object(u.c)((function(e){return e.user.user})),o=Object(u.c)((function(e){return e.login.token})),l=Object(u.c)((function(e){return e.l18n.language})),s=Object(u.b)();return Object(n.useEffect)((function(){o&&s(R(o))}),[s,o]),r.a.createElement("ul",{className:"navbar_list"},r.a.createElement("li",{className:"navbar_list_element"},r.a.createElement(d.b,{to:"/",className:"navbar_link"},t.home)),r.a.createElement("li",{className:"navbar_log_element"}," ",function(e,t){return e?r.a.createElement(d.b,{to:"/logout",className:"navbar_link"},t.logout):r.a.createElement(d.b,{to:"/login",className:"navbar_link"},t.login)}(e.loggedIn,t)," "),r.a.createElement("li",{className:"navbar_log_element",onClick:function(){s(me("english"===l?"dutch":"english"))}},r.a.createElement("div",{className:"navbar_link"},t.otherLanguage)),e.loggedIn?function(e,t){if(W(e,"userModerator"))return r.a.createElement("li",{className:"navbar_list_element"},r.a.createElement(d.b,{to:"/moderator",className:"navbar_link"},t.moderator))}(a,t):"",e.loggedIn&&c?function(e,t,a){if(W(e,"createTimeslot")||t&&0!==t.length)return r.a.createElement("li",{className:"navbar_list_element"},r.a.createElement(d.b,{to:"/timeslot/create",className:"navbar_link"},a.createTimeslot))}(a,c.chairman,t):"",e.loggedIn&&c?function(e,t,a){if(W(e,"createTimeslot")||t&&0!==t.length)return r.a.createElement("li",{className:"navbar_list_element"},r.a.createElement(d.b,{to:"/timeslot/create/multiple",className:"navbar_link"},a.createMultipleTimeslot))}(a,c.chairman,t):"",e.loggedIn?r.a.createElement("li",{className:"navbar_list_element"},r.a.createElement(d.b,{to:"/timeslot",className:"navbar_link"},t.timeslots)):"")},Ee=a(71);var de=function(){var e=Object(u.c)((function(e){return e.user})),t=Object(u.c)((function(e){return e.login.token})),a=Object(u.c)((function(e){return e.timeslot.userTimeslots})),c=Object(u.c)((function(e){return e.timeslotCategorie.timeslotCategories})),o=Object(u.c)((function(e){return e.roles})),l=Object(u.b)();return Object(n.useEffect)((function(){l(R(t)),l(function(e){return function(){var t=Object(i.a)(s.a.mark((function t(a){var n,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E(e).get("".concat("/api/timeslot","/user"));case 3:n=t.sent,r=n.data.timeslots,a({type:"GET_USER_TIMESLOTS",data:{userTimeslots:r}}),t.next=20;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0.response.data),t.t1=t.t0.response.status,t.next=400===t.t1?14:401===t.t1?16:18;break;case 14:return a({type:"TIMESLOT_ERROR",data:{errorCode:t.t0.response.date.errorCode}}),t.abrupt("break",20);case 16:return a({type:"INVALID_TOKEN"}),t.abrupt("break",20);case 18:return a({type:"SERVER_ERROR"}),t.abrupt("break",20);case 20:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(t)),l(L(t)),l(T())}),[l,t]),e.user&&a?(console.log(e),r.a.createElement("div",null,r.a.createElement(h,{userInformation:e}),r.a.createElement(se,{timeslots:a,userRoles:e.roles.roles,categories:c,userId:e.user.id,roleList:o,sortingOption:"startTime",token:t}))):r.a.createElement("div",null,"Loading....")};var be=function(){var e=Object(u.c)((function(e){return e.login.token})),t=Object(u.c)((function(e){return e.roles})),a=Object(u.c)((function(e){return e.user.roles})),c=Object(u.c)((function(e){return e.user.user})),o=Object(u.c)((function(e){return e.timeslotCategorie.timeslotCategories})),l=Object(u.c)((function(e){return e.timeslot.errorCode})),s=Object(u.c)((function(e){return e.timeslot.succes})),i=Object(n.useState)(""),m=Object(f.a)(i,2),p=m[0],E=m[1],d=Object(n.useState)(new Date),b=Object(f.a)(d,2),O=b[0],h=b[1],_=Object(n.useState)(new Date),j=Object(f.a)(_,2),y=j[0],k=j[1],I=Object(n.useState)(1),C=Object(f.a)(I,2),S=C[0],D=C[1],N=Object(n.useState)([]),x=Object(f.a)(N,2),w=x[0],A=x[1],M=Object(n.useState)([]),G=Object(f.a)(M,2),V=G[0],U=G[1],H=Object(n.useState)([]),K=Object(f.a)(H,2),F=K[0],Y=K[1],B=Object(n.useState)(""),z=Object(f.a)(B,2),P=z[0],q=z[1],Q=Object(u.b)();Object(n.useEffect)((function(){Q(T()),Q(L(e)),Q(R(e))}),[Q,e]);var X=Z(O),$=Z(y),ee=t.map((function(e){return e.id}));W(a,"createTimeslot")||(ee=c?c.chairman:[]);var te=["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"];return 0!==t.length&&0!==o?r.a.createElement("div",null,v(l,(function(e){switch(e){case"NOT_AUTHORIZED":return"You are not not authorized to create timeslot";case"NO_ROLES_ERROR":return"You have not selected any roles for the timeslot please select one";case"START_GREATER_END_TIME_ERROR":return"The start time is earlier than the end time.";default:return""}})),function(e){if(e)return r.a.createElement(g.a,{severity:"success"},"This is a success alert \u2014 check it out!")}(s),r.a.createElement("form",{onSubmit:function(t){var a=new Date;a.setDate(a.getDate()-a.getDay()),a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0),V.sort(),F.forEach((function(t){var n=new Date(a.getTime()+7*t*24*60*60*1e3);V.forEach((function(t){var a=n.getTime()+24*t*60*60*1e3,r=new Date(a),c=new Date(a);r.setHours(O.getHours()),r.setMinutes(O.getMinutes()),c.setHours(y.getHours()),c.setMinutes(y.getMinutes()),console.log("send it"),Q(J(e,p,r,c,S,w,""!==P||P?P:o[0].id))}))})),t.preventDefault()}},r.a.createElement("select",{value:V,onChange:function(e){var t=Number(e.target.value);V.includes(t)?U(V.filter((function(e){return e!==t}))):U(V.concat(t))},multiple:!0},[0,1,2,3,4,5,6].map((function(e){return r.a.createElement("option",{key:e,value:e},te[e])}))),r.a.createElement("br",null),r.a.createElement("select",{value:F,onChange:function(e){var t=Number(e.target.value);F.includes(t)?Y(F.filter((function(e){return e!==t}))):Y(F.concat(t))},multiple:!0},[0,1,2,3,4,5,6,7].map((function(e){return r.a.createElement("option",{key:e,value:e},function(e){var t=new Date;t.setDate(t.getDate()-t.getDay());var a=["January","February","March","April","May","June","July","August","September","October","November","December"],n=new Date(t.getTime()+7*e*24*60*60*1e3),r=new Date(t.getTime()+6*(e+1)*24*60*60*1e3);return"".concat(a[n.getMonth()],", ").concat(n.getDate()," - ").concat(a[r.getMonth()],", ").concat(r.getDate())}(e))}))),r.a.createElement("br",null),"description: ",r.a.createElement("input",{type:"text",value:p,onChange:function(e){E(e.target.value)}})," ",r.a.createElement("br",null),"startTime time: ",r.a.createElement("input",{type:"time",value:X,onChange:function(e){var t=e.target.value.split(":"),a=new Date(O.getTime());""!==e.target.value&&(a.setHours(t[0]),a.setMinutes(t[1]),a.setSeconds(0),a>=new Date(y.getTime())&&k(a),h(a))}}),r.a.createElement("br",null),"endTime time: ",r.a.createElement("input",{type:"time",value:$,onChange:function(e){var t=e.target.value.split(":"),a=new Date(y.getTime());""!==e.target.value&&(a.setHours(t[0]),a.setMinutes(t[1]),a.setSeconds(0),k(a))}}),r.a.createElement("br",null),"maxPeople: ",r.a.createElement("input",{type:"number",value:S,onChange:function(e){D(e.target.value)}}),r.a.createElement("br",null),r.a.createElement("select",{value:w,onChange:function(e){var t=e.target.value;w.includes(t)?A(w.filter((function(e){return e!==t}))):A(w.concat(e.target.value))},multiple:!0},ee.map((function(e){var a;return a=e,e=t.filter((function(e){return e.id===a}))[0],r.a.createElement("option",{key:e.id,value:e.id},e.abreviation,": ",e.description)}))),r.a.createElement("select",{value:P,onChange:function(e){q(e.target.value)}},o.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.title," minimum cancel times (hours): ",e.cancelLength)}))),r.a.createElement("input",{type:"submit"}))):r.a.createElement("div",null,"loading roles")},fe=Object(n.createContext)();var ge=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.l18n.language}));Object(n.useEffect)((function(){var t=localStorage.getItem("token");e(t?function(e){return function(){var t=Object(i.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E(e).post("".concat("/api/user/login","/verify"));case 3:a({type:"LOGIN",data:{token:e}}),t.next=16;break;case 6:t.prev=6,t.t0=t.catch(0),t.t1=t.t0.response.status,t.next=401===t.t1?11:14;break;case 11:return localStorage.clear(),a({type:"NO_TOKEN"}),t.abrupt("break",16);case 14:return a({type:"SERVER_ERROR"}),t.abrupt("break",16);case 16:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()}(t):(console.log("no storage"),{type:"NO_TOKEN"}))}),[e]);var a=Object(u.c)((function(e){return e.login}));return a.pending?"pending....":r.a.createElement(d.a,null,r.a.createElement(fe.Provider,{value:Ee[t]},r.a.createElement(pe,null),r.a.createElement(b.d,null,r.a.createElement(b.b,{path:"/timeslotcategorie/edit/:timeslotCategorieId",component:D}),r.a.createElement(b.b,{path:"/login",render:function(){return a.loggedIn?r.a.createElement(b.a,{to:"/"}):r.a.createElement(O,null)}}),r.a.createElement(b.b,{path:"/timeslot/create/multiple",render:function(){return a.loggedIn?r.a.createElement(be,null):r.a.createElement(b.a,{to:"/login"})}}),r.a.createElement(b.b,{path:"/timeslot/create",render:function(){return a.loggedIn?r.a.createElement(Q,null):r.a.createElement(b.a,{to:"/login"})}}),r.a.createElement(b.b,{path:"/timeslot",render:function(){return a.loggedIn?r.a.createElement(ie,null):r.a.createElement(b.a,{to:"/login"})}}),r.a.createElement(b.b,{path:"/moderator",render:function(){return a.loggedIn?r.a.createElement(F,null):r.a.createElement(b.a,{to:"/login"})}}),r.a.createElement(b.b,{path:"/logout"},r.a.createElement(Y,null)),r.a.createElement(b.b,{path:"/",render:function(){return a.loggedIn?r.a.createElement(de,null):r.a.createElement(b.a,{to:"/login"})}}))))},ve=a(72),Oe={token:null,loggedIn:!1,pending:!0},Re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return{token:t.data.token,loggedIn:!0,pending:!1};case"NO_TOKEN":return{loggedIn:!1,pending:!1,token:null};case"LOGOUT":return{token:null,loggedIn:!1,error:!1,pending:!1};case"LOGIN_ERROR":return console.log(t.data),{loggedIn:!1,error:!0,errorCode:t.data.errorCode,pending:!1};case"SERVER_ERROR":return{loggedIn:!1,error:!0,errorMessage:"The server may be down, try again later or try to contract the moderator.",pending:!1};default:return e}},he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_ROLE":return e.concat(t.data.role);case"ROLE_LIST":return t.data.roles;default:return e}},Te={user:null,role:[]},_e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_INFORMATION":var a=t.data.user;return{user:{email:a.email,frontName:a.frontName,lastName:a.lastName,id:a.id,chairman:a.chairman},roles:a.roles};case"LOGOUT":return{user:null,role:[]};default:return e}},je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USERS_LIST":return t.data.userList;case"ADD_USER":return e.concat(t.data.user);case"TOGGLE_CHAIRMAN":case"TOGGLE_ROLE":var a=e.map((function(e){return e.id===t.data.user.id?t.data.user:e}));return console.log(a),a;default:return e}},ye=a(34),ke=a(13),Ie={timeslots:[],errorCode:"",succes:!1,errorInfo:"",userTimeslots:[]},Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TIMESLOT":return Object(ke.a)(Object(ke.a)({},e),{},{timeslots:e.timeslots.concat(t.data.timeslot),succes:!0});case"TIMESLOT_LIST":return Object(ke.a)(Object(ke.a)({},e),{},{timeslots:t.data.timeslots});case"GET_USER_TIMESLOTS":return Object(ke.a)(Object(ke.a)({},e),{},{userTimeslots:t.data.userTimeslots});case"SUBSCRIBED_TIMESLOT":var a=e.timeslots.map((function(e){return e.id===t.data.timeslot.id?t.data.timeslot:e}));return Object(ke.a)(Object(ke.a)({},e),{},{timeslots:a,errorCode:""});case"DELETE_TIMESLOT":var n=e.timeslots.filter((function(e){return e.id!==t.data.timeslotId}));return Object(ke.a)(Object(ke.a)({},e),{},{timeslots:n,errorCode:""});case"TIMESLOT_ERROR":return Object(ke.a)(Object(ke.a)({},e),{},{errorCode:t.data.errorCode,errorInfo:t.data.errorInfo});case"RESET_SUCCES_TIMESLOT":return Object(ke.a)(Object(ke.a)({},e),{},{succes:!1});default:return e}},Se={timeslotCategories:[],timeslotCategorie:null,errorCode:"",succes:!1},Le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TIMESLOT_CATEGORIE":return Object(ke.a)(Object(ke.a)({},e),{},{timeslotCategories:e.timeslotCategories.concat(t.data.timeslotCategorie),succes:!0,errorCode:""});case"TIMESLOT_CATEGORIE_LIST":return Object(ke.a)(Object(ke.a)({},e),{},{timeslotCategories:t.data.timeslotCategories});case"CHANGE_TIMESLOT_CATEGORIE":var a=e.timeslotCategories.map((function(e){return e.id===t.data.timeslotCategorie.id?t.data.timeslotCategorie:e}));return{timeslotCategories:a,timeslotCategorie:null,errorCode:"",succes:!0};case"FETCH_ONE_TIMESLOT_CATEGORIE":return Object(ke.a)(Object(ke.a)({},e),{},{timeslotCategorie:t.data.timeslotCategorie});case"TIMESLOT_CATEGORIE_ERROR":return Object(ke.a)(Object(ke.a)({},e),{},{errorCode:t.data.errorCode,succes:!1});case"RESET_SUCCES_TIMESLOT_CATEGORIE":return Object(ke.a)(Object(ke.a)({},e),{},{succes:!1,errorCode:""});default:return e}},De={language:"dutch"},Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_LANGUAGE":return{language:t.data.language};default:return e}},xe=Object(ye.d)(Object(ye.c)({login:Re,roles:he,user:_e,moderator:je,timeslot:Ce,timeslotCategorie:Le,l18n:Ne}),Object(ye.a)(ve.a));o.a.render(r.a.createElement(u.a,{store:xe},r.a.createElement(ge,null)),document.getElementById("root"))},48:function(e,t,a){},71:function(e){e.exports=JSON.parse('{"dutch":{"welcomemessage":"Hallo gebruiker","home":"startpagina","login":"log in","logout":"log uit","createTimeslot":"creer een nieuwe tijdspunt","timeslots":"tijdspunten","moderator":"beheerder","otherLanguage":"english","createMultipleTimeslot":"creeer meerdere tijdspunten"},"english":{"welcomemessage":"Hallo gebruiker","home":"homepage","login":"login","logout":"logout","createTimeslot":"create a timeslot","timeslots":"timeslots","moderator":"moderator","otherLanguage":"nederlands"}}')},78:function(e,t,a){e.exports=a(109)}},[[78,1,2]]]);
//# sourceMappingURL=main.99e75e11.chunk.js.map